# AgentQMS Context

Last Updated: 2026-01-05 10:30 (KST)

**AgentQMS** is a quality management framework for AI agents working with documentation artifacts.

## Project Documentation Philosophy

This project follows a unique approach to documentation, specifically designed for AI agent consumption. We prioritize:

- **Ultra-concise, schema-only documentation** that is machine-parseable
- **Low-memory footprint formats** (YAML, JSON) optimized for AI processing
- **AI-focused content** without verbose narratives or user-facing documentation
- **Proactive resource utilization** to reduce effort needed to achieve goals

The core pipeline is sensitive to changes and downstream consumers depend on predefined output formats. This documentation approach helps AI agents navigate the complex project structure efficiently without getting overwhelmed by excessive information.

## Structure

```
AgentQMS/
├── interface/          # AI agent interface (Makefile + workflows)
├── agent_tools/        # Core implementation (Python packages)
│   ├── audit/         # Artifact audit and frontmatter tools
│   ├── compliance/    # Validation and compliance checking
│   ├── core/          # Core utilities (config, context, plugins)
│   ├── generators/    # Artifact generators and templates
│   └── utilities/     # Helper tools (migration, repair, etc.)
├── knowledge/agent/    # Agent documentation and rules
├── conventions/        # Coding conventions and standards
└── vlm/               # Vision Language Model integration
```

## Quick Start (AI Agents)

### Essential Commands
```bash
cd AgentQMS/interface/    # Navigate to agent interface
make help                 # Show all available commands
make discover             # List all tools and workflows
make status               # Check framework status
make validate             # Validate all artifacts
make compliance           # Check compliance with standards
```

### Artifact Management

**Create New Artifacts:**
```bash
make create-plan NAME=my-plan TITLE="Implementation Plan"
make create-assessment NAME=my-assessment TITLE="Assessment Title"
make create-design NAME=my-design TITLE="Design Document"
make create-research NAME=my-research TITLE="Research Document"
make create-bug-report NAME=my-bug TITLE="Bug Report"
```

**Audit & Fix Artifacts:**
```bash
make audit-fix-batch BATCH=1         # Preview batch 1 changes
make audit-fix-batch-apply BATCH=1   # Apply batch 1 fixes
make audit-fix-all                   # Fix all (safe, excludes archive/)
make audit-report                    # Report violations without fixing
```

**VLM Reports:**
```bash
make audit-vlm-migrate               # Preview VLM report migration
make audit-vlm-migrate-apply         # Apply VLM migration
```

### Context & Discovery

**Load Context for Tasks:**
```bash
make context TASK="implement feature X"    # Auto-detect context bundle
make context-development                   # Development context
make context-docs                          # Documentation context
make context-debug                         # Debugging context
make context-plan                          # Planning context
make context-list                          # List all bundles
```

**Tool Discovery:**
```bash
make discover                        # List all tools
make tool-catalog                    # Generate tool catalog
make info-tools                      # Show detailed tool info
```

### Validation & Quality

**Validation:**
```bash
make validate                        # Validate all artifacts
make validate-file FILE=path.md      # Validate single file
make validate-naming                 # Check naming only
make boundary                        # Check framework boundaries
```

**Compliance & Quality:**
```bash
make compliance                      # Check compliance
make quality-check                   # Check documentation quality
make all-check                       # Run all checks
```

**Code Analysis:**
```bash
make ast-analyze TARGET=file.py      # Analyze code structure
make ast-check-quality TARGET=dir/   # Check code quality
make ast-generate-tests TARGET=file  # Generate test scaffolds
make ast-extract-docs TARGET=module  # Extract documentation
```

### Advanced Features

**Artifact Migration & Repair:**
```bash
make artifacts-migrate FILE=path --autofix     # Migrate artifact
make artifacts-repair-moves                    # Repair moved artifacts
make artifacts-status                          # Show artifact health
make artifacts-status-aging                    # Show aging artifacts
```

**Tracking & Changelog:**
```bash
make track-status                    # Tracking DB status
make track-repair                    # Repair tracking DB
make changelog-preview               # Preview changelog
make changelog-draft                 # Generate changelog
```

**Framework Management:**
```bash
make audit-framework                 # Audit framework compliance
make deprecated-list                 # List deprecated symbols
make deprecated-validate             # Validate for deprecated usage
make version                         # Show version info
```

## Configuration

**Main Config:** `.agentqms/settings.yaml`
- Framework settings
- Validation rules
- Excluded directories (archive/, deprecated/)
- Path configurations

**Settings Configuration:** `.qwen/settings.json`
- Workspace settings including exclude patterns
- Archive directories are automatically ignored with pattern: `**/archive/**`
- Architecture reference: `AgentQMS/standards/tier1-sst/system-architecture.yaml`
- Context-aware loading: `AgentQMS/standards/context_map.yaml`

**Context System - Task-Specific Loading:**
- **Purpose**: Load only relevant files for each task to reduce compute overhead
- **Context Map**: `AgentQMS/standards/context_map.yaml` - Maps tasks to relevant files
- **Priority System**: `AgentQMS/standards/context_priority.yaml` - Defines loading tiers
- **Classification**: `AgentQMS/standards/context_classification.yaml` - Task detection rules

**Artifact Rules:** `AgentQMS/knowledge/agent/artifact_rules.yaml`
- Artifact type definitions
- Naming conventions
- Frontmatter requirements

**Agent Documentation:** `AgentQMS/knowledge/agent/`
- `system.md` - Core agent rules and workflows
- `artifact_rules.yaml` - Artifact standards
- `artifact-audit-improvements.md` - Audit tool guide
- `tool_catalog.md` - Tool reference

## Safety Features

**Directory Exclusion:**
- `archive/` and `deprecated/` excluded by default
- Additional archive directories excluded via `**/archive/**` pattern
- Configurable via `settings.yaml`
- Override with `--include-excluded` flag

**Audit Safety:**
- Preview changes with `--dry-run`
- Confirmation prompts (bypass with `--no-confirm`)
- Automatic git stash backup (bypass with `--no-stash`)
- Smart date inference (git → filesystem → present)

## Common Workflows

**Complete Artifact Workflow:**
```bash
make workflow-create NAME=my-artifact TYPE=plan TITLE="My Plan"
```

**Documentation Workflow:**
```bash
make workflow-docs        # Generate, validate, update
```

**Validation Workflow:**
```bash
make workflow-validate    # Validate, fix, monitor
```

## System Architecture: Two Independent Instruction Systems

This project uses two independent instruction systems:

### 1. General Project Standards (`AgentQMS/standards/`)
- **Purpose**: General AI instructions for the entire project
- **Scope**: All project-wide standards, conventions, and protocols
- **Location**: `AgentQMS/standards/` (tier1-sst, tier2-framework, tier3-agents, tier4-workflows)
- **Use Case**: General development, documentation, compliance, and agent configuration

### 2. Experiment Protocols (`experiment_manager/.ai-instructions/`)
- **Purpose**: Experiment-specific protocols and workflows
- **Scope**: Experiment tracking, management, and execution
- **Location**: `experiment_manager/.ai-instructions/`
- **Use Case**: Running and managing OCR experiments with the ETK (Experiment Toolkit)

**Key Distinction**: These systems operate independently. The experiment system does not inherit from general project standards and has its own specific protocols.

## For Humans

⚠️ **Warning:** The `AgentQMS/interface/` directory is for AI agents only.

Humans should use:
- Main project Makefile: `/workspaces/.../Makefile`
- Documentation: `docs/` directory
- Agent docs: `AgentQMS/knowledge/agent/` for reference
