# MCP Server Configuration Schema
# Machine-parseable configuration for AI agents

servers:
  - name: unified_project
    path: scripts/mcp/unified_server.py
    description: Unified MCP server aggregating all tools/resources from individual servers
    note: Runtime aggregation - imports from AgentQMS, project_compass, experiment_manager, agent-debug-toolkit
    resources:
      - agentqms://standards/index
      - agentqms://standards/artifact_types
      - agentqms://standards/workflows
      - agentqms://templates/list
      - agentqms://plugins/artifact_types
      - agentqms://config/settings
      - compass://compass.json
      - compass://session_handover.md
      - compass://current_session.yml
      - compass://uv_lock_state.yml
      - compass://agents.yaml
      - vessel://state
      - vessel://rules
      - vessel://staging
      - experiments://agent_interface
      - experiments://active_list
      - experiments://schemas/manifest
      - experiments://schemas/artifact
      - utilities://quick-reference
      - utilities://index
      - standards://router
      - standards://frontmatter
      - bundle://list
    tools:
      # AgentQMS tools
      - create_artifact
      - validate_artifact
      - list_artifact_templates
      - check_compliance
      - get_standard
      # Project Compass tools
      - compass_meta_pulse
      - compass_meta_spec
      # Experiment Manager tools
      - init_experiment
      - get_experiment_status
      - add_task
      - log_insight
      - sync_experiment
      # Agent Debug Toolkit tools
      - adt_meta_query
      - adt_meta_edit

  - name: agentqms
    path: AgentQMS/mcp_server.py
    description: Artifact workflow, validation, compliance
    note: Individual server - tools hardcoded in list_tools()
    resources:
      - agentqms://standards/index
      - agentqms://standards/artifact_types
      - agentqms://standards/workflows
      - agentqms://templates/list
      - agentqms://plugins/artifact_types
      - agentqms://config/settings
    tools:
      - create_artifact
      - validate_artifact
      - list_artifact_templates
      - check_compliance
      - get_standard

  - name: project_compass
    path: project_compass/mcp_server.py
    description: Project state, Sprint Context management, navigation (Vessel AI Protocols)
    resources:
      - vessel://state
      - vessel://rules
      - vessel://staging
    tools:
      - compass_meta_pulse
      - compass_meta_spec

  - name: experiment_manager
    path: experiment_manager/mcp_server.py
    description: Experiment tracking, insights, task management
    resources:
      - experiments://agent_interface
      - experiments://active_list
      - experiments://schemas/manifest
      - experiments://schemas/artifact
    tools:
      - init_experiment
      - get_experiment_status
      - add_task
      - log_insight
      - sync_experiment

  - name: agent_debug_toolkit
    path: agent-debug-toolkit/src/agent_debug_toolkit/mcp_server.py
    description: AST-based analysis and code editing (meta-tools and individual tools)
    tools:
      - adt_meta_query
      - adt_meta_edit

# Startup command template
command_template: "uv run --directory ${workspaceFolder} python {path}"

# Environment compatibility
environments:
  local: true
  codespaces: true
  devcontainer: true

# Cloud-specific notes
cloud_requirements:
  - uv_installed: true
  - python_version: ">=3.11"
  - workspace_variable: "${workspaceFolder}"
