ads_version: '2.0'
type: quick_reference
agent: all
tier: 2
priority: critical
validates_with: AgentQMS/standards/schemas/compliance-checker.py
compliance_status: pass
memory_footprint: 450
service:
  name: OCR Inference Console Backend
  port: 8002
  protocol: HTTP/REST
  base_url: http://localhost:8002
endpoints:
  health:
    path: /api/health
    method: GET
    description: Service health check
    response:
      status: ok
      checkpoint_root: string
      engine_loaded: boolean
  list_checkpoints:
    path: /api/inference/checkpoints
    method: GET
    description: List available OCR checkpoints
    params:
      limit: 'int (default: 100)'
    response: List[Checkpoint]
  run_inference:
    path: /api/inference/preview
    method: POST
    description: Run OCR inference on an image
    request: InferenceRequest
    response: InferenceResponse
models:
  Padding:
    fields:
      top: 'int (default: 0)'
      bottom: 'int (default: 0)'
      left: 'int (default: 0)'
      right: 'int (default: 0)'
  TextRegion:
    fields:
      polygon: List[List[float]] (required, min_length=3)
      text: str (optional, placeholder from detection)
      recognized_text: str (optional, from recognition module when enabled)
      confidence: float (0.0 - 1.0)
      recognition_confidence: float (optional, 0.0 - 1.0, from recognition module)
  InferenceMetadata:
    description: Critical for frontend coordinate handling and overlay alignment
    fields:
      original_size: Tuple[int, int] (required)
      processed_size: Tuple[int, int] (required)
      padding: Padding (required)
      padding_position: 'str (default: ''top_left'')'
      content_area: Tuple[int, int] (required)
      scale: float (gt=0)
      coordinate_system: 'str (default: ''pixel'')'
  InferenceRequest:
    fields:
      checkpoint_path: str (required)
      image_base64: str (optional)
      image_path: str (optional)
      confidence_threshold: 'float (default: 0.3)'
      nms_threshold: 'float (default: 0.5)'
      enable_perspective_correction: 'bool (default: False)'
      perspective_display_mode: 'str (''corrected''|''original'', default: ''corrected'')'
      enable_grayscale: 'bool (default: False)'
      enable_background_normalization: 'bool (default: False)'
      enable_sepia_enhancement: 'bool (default: False)'
      enable_clahe: 'bool (default: False)'
  InferenceResponse:
    fields:
      status: 'str (default: ''success'')'
      regions: List[TextRegion]
      processing_time_ms: float
      notes: List[str]
      preview_image_base64: str (optional)
      meta: InferenceMetadata (optional)
id: FW-004
keywords:
- validates
- compliance
- status
- memory
- footprint
- service
- endpoints
- models
fuzzy_threshold: 0.8
