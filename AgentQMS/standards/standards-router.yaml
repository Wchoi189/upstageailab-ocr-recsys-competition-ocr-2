ads_version: '1.0'
type: rule_set
agent: all
tier: 1
priority: critical
name: standards-router
description: Maps task types to applicable AgentQMS standards for automatic discovery
task_mappings:
  artifact_creation:
    description: Creating any artifact (assessment, plan, audit, design, etc.)
    priority: 1
    standards:
    - AgentQMS/standards/tier1-sst/naming-conventions.yaml
    - AgentQMS/standards/tier1-sst/artifact-types.yaml
    - AgentQMS/standards/tier1-sst/artifact_rules.yaml
    triggers:
      keywords:
      - create artifact
      - new artifact
      - assessment
      - implementation plan
      - audit
      - design document
      - bug report
      - walkthrough
      patterns:
      - \bcreate\b.*\bartifact\b
      - \bnew\b.*\b(assessment|plan|audit|design)\b
  config_files:
    description: Working with YAML configuration files (Hydra, training configs)
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/configuration-standards.yaml
    - AgentQMS/standards/tier2-framework/hydra-v5-rules.yaml
    triggers:
      keywords:
      - config
      - yaml
      - hydra
      - configuration
      - training config
      - omegaconf
      - hydra v5
      - domains first
      - atomic architecture
      - domain isolation
      - flattening rule
      patterns:
      - \bconfig(uration)?\b
      - \bhydra\b
      - \byaml\b.*\b(file|edit|update)\b
  code_changes:
    description: Writing or modifying Python code
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/coding/python-core.yaml
    - AgentQMS/standards/tier1-sst/file-placement-rules.yaml
    triggers:
      keywords:
      - python
      - code
      - implement
      - refactor
      - function
      - class
      - module
      patterns:
      - \b(implement|write|create)\b.*\b(code|function|class)\b
      - \brefactor\b
      - \bpython\b
  unit_testing:
    description: Writing tests
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/coding/testing.yaml
    - AgentQMS/standards/tier2-framework/coding/python-core.yaml
    triggers:
      keywords: [test, pytest, mock, fixture]
      patterns:
      - \btest_
      - \bpytest\b
  async_development:
    description: AsyncIO and FastAPI work
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/coding/async-concurrency.yaml
    - AgentQMS/standards/tier2-framework/coding/python-core.yaml
    triggers:
      keywords: [async, await, fastapi, route]
      patterns:
      - \basync\b
      - \bfastapi\b
  data_validation:
    description: Pydantic models
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/coding/pydantic-validation.yaml
    triggers:
      keywords: [pydantic, model, schema, validation]
      patterns:
      - \bpydantic\b
      - \bBaseModel\b
  code_analysis:
    description: Code analysis, debugging, finding patterns with AST tools
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/tool-catalog.yaml
    context_bundles:
    - ast-debugging-tools
    triggers:
      keywords:
      - find config
      - config usage
      - hydra usage
      - where is used
      - find class
      - find function
      - symbol search
      - dependency graph
      - import graph
      - code complexity
      - context tree
      - module structure
      - factory pattern
      - component instantiation
      - merge order
      - merge precedence
      - cfg.
      - config['
      - instantiate
      - ast analysis
      patterns:
      - \bfind\b.*\b(config|hydra|class|function|symbol)\b
      - \bwhere.*\b(is|used|defined)\b
      - \b(dependency|import).*\bgraph\b
      - \bcode.*\b(complexity|structure|analysis)\b
      - \bast\b.*\b(analysis|tool)\b
  inference_pipeline:
    description: OCR inference pipeline work
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/inference-framework.yaml
    - AgentQMS/standards/tier2-framework/ocr-components/orchestration-flow.yaml
    - AgentQMS/standards/tier2-framework/ocr-components/pipeline-contracts.yaml
    triggers:
      keywords:
      - inference
      - ocr
      - pipeline
      - detection
      - recognition
      - kie
      patterns:
      - \b(inference|ocr|pipeline)\b
      - \b(detection|recognition|kie)\b.*\b(model|code)\b
  ocr_geometry:
    description: Coordinate transforms and geometry handling
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/ocr-components/coordinate-transforms.yaml
    - AgentQMS/standards/tier2-framework/ocr-components/pipeline-contracts.yaml
    triggers:
      keywords:
      - coordinate
      - polygon
      - box
      - bbox
      - geometry
      - transform
      - padding
      patterns:
      - \b(coordinate|polygon|bbox)\b
      - \bcoordinate\b.*\b(collapse|transform)\b
  ocr_postprocessing:
    description: Post-processing and logic
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/ocr-components/postprocessing-logic.yaml
    triggers:
      keywords:
      - postprocessing
      - binarization
      - threshold
      - filter
      patterns:
      - \bpost-?processing\b
      - \bbinariz\w+\b
  ocr_architecture:
    description: Defining component interfaces and architecture patterns
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/ocr-components/component-interfaces.yaml
    - AgentQMS/standards/tier2-framework/ocr-components/model-management.yaml
    triggers:
      keywords:
      - architecture
      - interface
      - component
      - head
      - loss
      - refactor
      - feature first
      - generic
      patterns:
      - \barchitecture\b
      - \binterface\b
      - \bcomponent\b
      - \brefactor\b
  api_development:
    description: API and contract development
    priority: 2
    standards:
    - AgentQMS/standards/tier2-framework/api-contracts.yaml
    - AgentQMS/standards/tier2-framework/data-contracts.yaml
    triggers:
      keywords:
      - api
      - endpoint
      - contract
      - schema
      - request
      - response
      patterns:
      - \bapi\b
      - \b(endpoint|contract|schema)\b
  git_workflow:
    description: Git operations and version control
    priority: 3
    standards:
    - AgentQMS/standards/tier2-framework/git-conventions.yaml
    triggers:
      keywords:
      - git
      - commit
      - branch
      - merge
      - pull request
      patterns:
      - \bgit\b
      - \b(commit|branch|merge|pr)\b
  validation:
    description: Running validation and compliance checks
    priority: 1
    standards:
    - AgentQMS/standards/tier1-sst/validation-protocols.yaml
    - AgentQMS/standards/tier1-sst/workflow-requirements.yaml
    triggers:
      keywords:
      - validate
      - compliance
      - check
      - verify
      patterns:
      - \b(validate|compliance|verify)\b
integration:
  loader: AgentQMS.tools.utils.config_loader.ConfigLoader
  cache_ttl: 3600
  fallback_standards:
  - AgentQMS/standards/INDEX.yaml
