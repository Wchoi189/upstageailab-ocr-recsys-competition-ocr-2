<!-- Github Decorative Badges -->
<div align="center">

[![CI](https://github.com/AIBootcamp13/upstageailab-ocr-recsys-competition-ocr-2/actions/workflows/ci.yml/badge.svg)](https://github.com/AIBootcamp13/upstageailab-ocr-recsys-competition-ocr-2/actions)
[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://python.org)
[![PyTorch](https://img.shields.io/badge/PyTorch-2.8+-red.svg)](https://pytorch.org)
[![UV](https://img.shields.io/badge/UV-0.8+-purple.svg)](https://github.com/astral-sh/uv)
[![Hydra](https://img.shields.io/badge/Hydra-1.3+-green.svg)](https://hydra.cc)
[![PyTorch Lightning](https://img.shields.io/badge/PyTorch_Lightning-2.1+-orange.svg)](https://lightning.ai)
[![Competition](https://img.shields.io/badge/Competition-Upstage_AI_Lab-blue.svg)](https://upstage.ai)
</div>

# AI ê²½ì§„ëŒ€íšŒ: ì˜ìˆ˜ì¦ í…ìŠ¤íŠ¸ ê²€ì¶œ

ì´ í”„ë¡œì íŠ¸ëŠ” ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ì—ì„œ í…ìŠ¤íŠ¸ ìœ„ì¹˜ë¥¼ ì¶”ì¶œí•˜ëŠ” ê²ƒì— ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤. ì£¼ì–´ì§„ ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ì—ì„œ í…ìŠ¤íŠ¸ ìš”ì†Œ ì£¼ë³€ì— ê²½ê³„ ë‹¤ê°í˜•ì„ ì •í™•í•˜ê²Œ ì‹ë³„í•˜ê³  ìƒì„±í•  ìˆ˜ ìˆëŠ” ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.

* **ëŒ€íšŒ ê¸°ê°„:** 2025ë…„ 9ì›” 22ì¼ (10:00) - 2025ë…„ 10ì›” 16ì¼ (19:00)
* **ì£¼ìš” ê³¼ì œ:** ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ ë‚´ í…ìŠ¤íŠ¸ ì˜ì—­ ì‹ë³„ ë° ìœ¤ê³½ ê·¸ë¦¬ê¸°

## ğŸ“‹ ëª©ì°¨

- [0. ê°œìš”](#0-ê°œìš”)
- [1. ëŒ€íšŒ ì •ë³´](#1-ëŒ€íšŒ-ì •ë³´)
- [2. êµ¬ì„± ìš”ì†Œ](#2-êµ¬ì„±-ìš”ì†Œ)
- [3. ë°ì´í„° ì„¤ëª…](#3-ë°ì´í„°-ì„¤ëª…)
- [4. ëª¨ë¸ë§](#4-ëª¨ë¸ë§)
- [5. ê²°ê³¼](#5-ê²°ê³¼)
- [6. ê²°ë¡  ë° í–¥í›„ ê³¼ì œ](#6-ê²°ë¡ -ë°-í–¥í›„-ê³¼ì œ)


## ğŸ‘¥ íŒ€ ì†Œê°œ
<table>
    <tr>
        <td align="center"><img src="https://avatars.githubusercontent.com/u/156163982?v=4" width="180" height="180"/></td>
        <td align="center"><img src="https://github.com/AIBootcamp13/upstageailab-ir-competition-ir-2/blob/main/docs/assets/images/team/hskimh1982.png" width="180" height="180"/></td>
        <td align="center"><img src="https://github.com/Wchoi189/document-classifier/blob/dev-hydra/docs/images/team/AI13_%EC%B5%9C%EC%9A%A9%EB%B9%84.png?raw=true" width="180" height="180"/>
        <td align="center"><img src="https://github.com/AIBootcamp13/upstageailab-ir-competition-ir-2/blob/main/docs/assets/images/team/YeonkyungKang.png" width="180" height="180"/></td>
        <td align="center"><img src="https://github.com/AIBootcamp13/upstageailab-ir-competition-ir-2/blob/main/docs/assets/images/team/jungjaehoon.jpg" width="180" height="180"/></td>
    </tr>
    <tr>
        <td align="center"><a href="https://github.com/SuWuKIM">AI13_ì´ìƒì›</a></td>
        <td align="center"><a href="https://github.com/YOUR_GITHUB">AI13_ê¹€íš¨ì„</a></td>
        <td align="center"><a href="https://github.com/Wchoi189">AI13_ìµœìš©ë¹„</a></td>
        <td align="center"><a href="https://github.com/YeonkyungKang">AI13_ê°•ì—°ê²½</a></td>
        <td align="center"><a href="https://github.com/YOUR_GITHUB">AI13_ì •ì¬í›ˆ</a></td>
    </tr>
    <tr>
        <td align="center">íŒ€ì¥, ì¼ì •ê´€ë¦¬, ì„±ëŠ¥ ìµœì í™”</td>
        <td align="center">EDA, ë°ì´í„°ì…‹ ì¦ê°•</td>
        <td align="center">ë² ì´ìŠ¤ë¼ì¸, CI</td>
        <td align="center">ì—°êµ¬/ì‹¤í—˜ ì„¤ê³„ ë° ì¶”ë¡  ë¶„ì„</td>
        <td align="center">ì•„í‚¤í…ì²˜ ë¦¬ë·° ë° ì„¤ê³„</td>
    </tr>
 </table>

## 0. ê°œìš”

### ê°œë°œ í™˜ê²½
- **Python:** 3.10+
- **íŒ¨í‚¤ì§€ ê´€ë¦¬ì:** UV 0.8+
- **ë”¥ëŸ¬ë‹:** PyTorch 2.8+, PyTorch Lightning 2.1+
- **êµ¬ì„± ê´€ë¦¬:** Hydra 1.3+

### ìš”êµ¬ì‚¬í•­
- Python 3.10 ì´ìƒ
- UV íŒ¨í‚¤ì§€ ê´€ë¦¬ì
- CUDA í˜¸í™˜ GPU (í›ˆë ¨ ì‹œ ê¶Œì¥)

## 1. ëŒ€íšŒ ì •ë³´

### ê°œìš”
ì˜ìˆ˜ì¦ í…ìŠ¤íŠ¸ ê²€ì¶œì— ì¤‘ì ì„ ë‘” AI ê²½ì§„ëŒ€íšŒì…ë‹ˆë‹¤. ì°¸ê°€ìë“¤ì€ ê²½ê³„ ë‹¤ê°í˜•ì„ ì‚¬ìš©í•˜ì—¬ ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ì—ì„œ í…ìŠ¤íŠ¸ ì˜ì—­ì„ ì •í™•í•˜ê²Œ ê²€ì¶œí•˜ê³  ìœ„ì¹˜ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ëª¨ë¸ì„ ê°œë°œí•´ì•¼ í•©ë‹ˆë‹¤.

### ì¼ì •
- **ì‹œì‘ì¼:** 2025ë…„ 9ì›” 22ì¼ (10:00)
- **ìµœì¢… ì œì¶œ ë§ˆê°ì¼:** 2025ë…„ 10ì›” 16ì¼ (19:00)

## 2. êµ¬ì„± ìš”ì†Œ

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
â”œâ”€â”€ augmentation-patterns.yaml
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ predict.yaml
â”‚   â”œâ”€â”€ test.yaml
â”‚   â”œâ”€â”€ train.yaml
â”‚   â””â”€â”€ preset/
â”‚       â”œâ”€â”€ base.yaml
â”‚       â”œâ”€â”€ example.yaml
â”‚       â”œâ”€â”€ datasets/
â”‚       â”‚   â””â”€â”€ db.yaml
â”‚       â”œâ”€â”€ lightning_modules/
â”‚       â”‚   â””â”€â”€ base.yaml
â”‚       â””â”€â”€ models/
â”‚           â”œâ”€â”€ model_example.yaml
â”‚           â”œâ”€â”€ decoder/
â”‚           â”œâ”€â”€ encoder/
â”‚           â”œâ”€â”€ head/
â”‚           â””â”€â”€ loss/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ datasets/
â”‚   â”‚   â”œâ”€â”€ sample_submission.csv
â”‚   â”‚   â””â”€â”€ images/
â”‚   â”‚       â”œâ”€â”€ test/
â”‚   â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ jsons/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ai_handbook/
â”‚   â”‚   â”œâ”€â”€ index.md
â”‚   â”‚   â”œâ”€â”€ 02_protocols/
â”‚   â”‚   â”œâ”€â”€ 04_experiments/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ pipeline/
â”‚   â”‚   â””â”€â”€ data_contracts.md
â”‚   â”œâ”€â”€ bug_reports/
â”‚   â”œâ”€â”€ CHANGELOG.md
â”‚   â”œâ”€â”€ QUICK_FIXES.md
â”‚   â”œâ”€â”€ api-reference.md
â”‚   â”œâ”€â”€ architecture-overview.md
â”‚   â”œâ”€â”€ process-management-guide.md
â”‚   â”œâ”€â”€ component-diagrams.md
â”‚   â”œâ”€â”€ workflow-diagram.md
â”‚   â”œâ”€â”€ maintenance/
â”‚   â”‚   â””â”€â”€ project-state.md
â”‚   â””â”€â”€ development/
â”‚       â”œâ”€â”€ coding-standards.md
â”‚       â”œâ”€â”€ naming-conventions.md
â”‚       â””â”€â”€ testing-guide.md
â”œâ”€â”€ ocr/
â”‚   â”œâ”€â”€ datasets/
â”‚   â”œâ”€â”€ lightning_modules/
â”‚   â”œâ”€â”€ metrics/
â”‚   â”œâ”€â”€ models/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ ablation_study/
â”œâ”€â”€ outputs/
â”œâ”€â”€ runners/
â”‚   â”œâ”€â”€ predict.py
â”‚   â”œâ”€â”€ test.py
â”‚   â””â”€â”€ train.py
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ agent_tools/
â”‚   â””â”€â”€ process_monitor.py
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ command_builder.py
â”‚   â”œâ”€â”€ evaluation_viewer.py
â”‚   â”œâ”€â”€ inference_ui.py
â”‚   â”œâ”€â”€ resource_monitor.py
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ README.md
â””â”€â”€ tests/
```

### UI ë„êµ¬

í”„ë¡œì íŠ¸ì—ëŠ” ëª…ë ¹ì–´ êµ¬ì¶•ê³¼ ê²°ê³¼ ë¶„ì„ì„ ìœ„í•œ Streamlit ê¸°ë°˜ UI ë„êµ¬ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

#### Command Builder (`ui/command_builder.py`)
í›ˆë ¨, í…ŒìŠ¤íŠ¸, ì˜ˆì¸¡ ëª…ë ¹ì–´ë¥¼ ì§ê´€ì ì¸ UIë¡œ êµ¬ì¶•í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

**ì£¼ìš” ê¸°ëŠ¥:**
- ëª¨ë¸ ì•„í‚¤í…ì²˜ ì„ íƒ (ì¸ì½”ë”, ë””ì½”ë”, í—¤ë“œ, ì†ì‹¤ í•¨ìˆ˜)
- í•™ìŠµ íŒŒë¼ë¯¸í„° ì¡°ì • (í•™ìŠµë¥ , ë°°ì¹˜ í¬ê¸°, ì—í­ ìˆ˜)
- ì‹¤í—˜ ì„¤ì • (W&B í†µí•©, ì²´í¬í¬ì¸íŠ¸ ì¬ê°œ)
- ì‹¤ì‹œê°„ ëª…ë ¹ì–´ ê²€ì¦ ë° ë¯¸ë¦¬ë³´ê¸°
- ì›í´ë¦­ ëª…ë ¹ì–´ ì‹¤í–‰ ë° ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§

**ì‚¬ìš©ë²•:**
```bash
# ëª…ë ¹ì–´ êµ¬ì¶• UI ì‹¤í–‰
python run_ui.py command_builder

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
uv run streamlit run ui/command_builder.py
```

#### Evaluation Viewer (`ui/evaluation_viewer.py`)
í‰ê°€ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê³  ë¶„ì„í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

### UI ë°ëª¨ ìŠ¤í¬ë¦°ìƒ·

<div align="center">

<table style="border-collapse: collapse; border: none;">
<tr>
<td style="border: none; padding: 20px; text-align: center; vertical-align: top;">
<strong>Command Builder</strong><br><br>
<img src="docs/assets/images/demo/command-builder-predict-command-generate.png" alt="Command Builder Interface" style="width: 800px; height: 500px; object-fit: contain; border: 1px solid #ddd; border-radius: 8px;"><br><br>
<small>í›ˆë ¨ ë° ì˜ˆì¸¡ ëª…ë ¹ì–´ë¥¼ ì§ê´€ì ì¸ UIë¡œ êµ¬ì¶•í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤</small>
</td>
</tr>
<tr>
<td style="border: none; padding: 20px; text-align: center; vertical-align: top;">
<strong>Real-time OCR Inference</strong><br><br>
<img src="docs/assets/images/demo/real-time-ocr-inference-select-img.png.jpg" alt="Real-time OCR Inference Interface" style="width: 800px; height: 500px; object-fit: contain; border: 1px solid #ddd; border-radius: 8px;"><br><br>
<small>ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ ê²€ì¶œí•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤</small>
</td>
</tr>
<tr>
<td style="border: none; padding: 20px; text-align: center; vertical-align: top;">
<strong>Evaluation Viewer</strong><br><br>
<img src="docs/assets/images/demo/ocr-eval-results-viewer-gallery.png" alt="Evaluation Viewer Interface" style="width: 800px; height: 500px; object-fit: contain; border: 1px solid #ddd; border-radius: 8px;"><br><br>
<small>ëª¨ë¸ í‰ê°€ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê³  ìƒì„¸í•˜ê²Œ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ê°¤ëŸ¬ë¦¬ ë·° ì¸í„°í˜ì´ìŠ¤</small>
</td>
</tr>
</table>

</div>

### ì£¼ìš” êµ¬ì„± íŒŒì¼

- `train.yaml`, `test.yaml`, `predict.yaml`: ëŸ¬ë„ˆ ì‹¤í–‰ ì„¤ì •
<!-- - `preset/example.yaml`: ê° ëª¨ë“ˆì˜ êµ¬ì„± íŒŒì¼ ì§€ì •
- `preset/datasets/db.yaml`: Dataset, Transform, ë°ì´í„° ê´€ë ¨ ì„¤ì •
- `preset/lightning_modules/base.yaml`: PyTorch Lightning ì‹¤í–‰ ì„¤ì •
- `preset/metrics/cleval.yaml`: CLEval í‰ê°€ ì„¤ì •
- `preset/models/model_example.yaml`: ê° ëª¨ë¸ ëª¨ë“ˆê³¼ Optimizerì˜ êµ¬ì„± íŒŒì¼ ì§€ì •
- `preset/models/*`: ëª¨ë¸ êµ¬ì„±ì— í•„ìš”í•œ ê° ëª¨ë“ˆ ì„¤ì • -->

## 3. ë°ì´í„° ì„¤ëª…

### ë°ì´í„°ì…‹ ê°œìš”

ë°ì´í„°ëŠ” ì´ë¯¸ì§€ í´ë”ì™€ ì£¼ì„ì„ ìœ„í•œ í•´ë‹¹ JSON íŒŒì¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ë°ì´í„°ì…‹ì€ ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ì˜ì—­ ì£¼ì„ì„ í¬í•¨í•˜ëŠ” train/validation/test ë¶„í• ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
.
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â”‚   â””â”€â”€ ...jpg
â”‚   â”œâ”€â”€ val/
â”‚   â”‚   â””â”€â”€ ...jpg
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ ...jpg
â””â”€â”€ jsons/
     â”œâ”€â”€ train.json
     â”œâ”€â”€ val.json
     â””â”€â”€ test.json
```

### JSON ì£¼ì„ í˜•ì‹

JSON íŒŒì¼ì€ ì´ë¯¸ì§€ íŒŒì¼ëª…ì„ í…ìŠ¤íŠ¸ ê²½ê³„ ìƒìì˜ ì¢Œí‘œì— ë§¤í•‘í•©ë‹ˆë‹¤.

* **IMAGE_FILENAME**: ê° ì´ë¯¸ì§€ ë ˆì½”ë“œì˜ í‚¤
* **words**: ì´ë¯¸ì§€ì— ëŒ€í•´ ê°ì§€ëœ ëª¨ë“  í…ìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´
* **nnnn**: ê° ë‹¨ì–´ ì¸ìŠ¤í„´ìŠ¤ì˜ ê³ ìœ í•œ 4ìë¦¬ ì¸ë±ìŠ¤ (0001ë¶€í„° ì‹œì‘)
* **points**: í…ìŠ¤íŠ¸ ì£¼ë³€ì˜ ë‹¤ê°í˜•ì„ ì •ì˜í•˜ëŠ” [X, Y] ì¢Œí‘œ ìŒì˜ ë°°ì—´. ì›ì  (0,0)ì€ ì´ë¯¸ì§€ì˜ ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬. í‰ê°€ì— ìœ íš¨í•œ ë‹¤ê°í˜•ì´ ë˜ë ¤ë©´ ìµœì†Œ 4ê°œì˜ ì ì´ í•„ìš”

### EDA

- _EDA ê³¼ì •ê³¼ ë‹¨ê³„ë³„ ê²°ë¡ ì„ ì„¤ëª…í•˜ì„¸ìš”_

### ë°ì´í„° ì²˜ë¦¬

- ì´ë¯¸ì§€ëŠ” JPG í˜•ì‹ìœ¼ë¡œ ì €ì¥
- ì£¼ì„ì€ ë‹¤ê°í˜• ì¢Œí‘œê°€ í¬í•¨ëœ JSON í˜•ì‹ìœ¼ë¡œ ì œê³µ
- í…ìŠ¤íŠ¸ ì˜ì—­ì€ ì •í™•í•œ ê²½ê³„ ë‹¤ê°í˜•ìœ¼ë¡œ ì£¼ì„ ì²˜ë¦¬
- ë°ì´í„°ì…‹ì€ train, validation, test ë¶„í• ì„ í¬í•¨

### ë°ì´í„° ì „ì²˜ë¦¬ (Pre-processing)

ì´ í”„ë¡œì íŠ¸ëŠ” í›ˆë ¨ ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ëŠ” ì˜¤í”„ë¼ì¸ ì „ì²˜ë¦¬ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ì „ì²˜ë¦¬ê°€ í•„ìš”í•œ ì´ìœ 

DBNet ëª¨ë¸ì€ í™•ë¥  ë§µ(probability map)ê³¼ ì„ê³„ê°’ ë§µ(threshold map)ì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì´ì „ì—ëŠ” ì´ëŸ¬í•œ ë§µì„ í›ˆë ¨ ì¤‘ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±í–ˆìœ¼ë‚˜, ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤:

- ê³„ì‚° ë¹„ìš©ì´ ë†’ì€ pyclipper ì—°ì‚°ê³¼ ê±°ë¦¬ ê³„ì‚°
- ì—í¬í¬ë§ˆë‹¤ ë™ì¼í•œ ë§µì„ ë°˜ë³µ ê³„ì‚°
- íš¨ê³¼ì ì´ì§€ ëª»í•œ ìºì‹± ë©”ì»¤ë‹ˆì¦˜

ì˜¤í”„ë¼ì¸ ì „ì²˜ë¦¬ë¥¼ í†µí•´ **5-8ë°° ë¹ ë¥¸ ê²€ì¦ ì†ë„**ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.

#### ì „ì²˜ë¦¬ ì‹¤í–‰ ë°©ë²•

ì „ì²´ ë°ì´í„°ì…‹ì„ ì „ì²˜ë¦¬í•˜ë ¤ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
uv run python scripts/preprocess_maps.py
```

ìƒ˜í”Œ ìˆ˜ë¥¼ ì œí•œí•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´:

```bash
uv run python scripts/preprocess_maps.py data.train_num_samples=100 data.val_num_samples=20
```

ì „ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒì„ ìƒì„±í•©ë‹ˆë‹¤:
- `data/datasets/images/train_maps/`: í›ˆë ¨ ë°ì´í„°ì˜ ì „ì²˜ë¦¬ëœ ë§µ
- `data/datasets/images_val_canonical_maps/`: ê²€ì¦ ë°ì´í„°ì˜ ì „ì²˜ë¦¬ëœ ë§µ

ê° ì´ë¯¸ì§€ì— ëŒ€í•´ ì••ì¶•ëœ `.npz` íŒŒì¼ì´ ìƒì„±ë˜ë©°, í™•ë¥  ë§µê³¼ ì„ê³„ê°’ ë§µì´ í¬í•¨ë©ë‹ˆë‹¤.

#### ìë™ í´ë°± (Fallback)

ì „ì²˜ë¦¬ëœ ë§µì´ ì—†ì–´ë„ í›ˆë ¨ì€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ì‹¤ì‹œê°„ ë§µ ìƒì„±ìœ¼ë¡œ ì „í™˜ë˜ì§€ë§Œ, ì†ë„ê°€ ëŠë ¤ì§‘ë‹ˆë‹¤.

ë” ìì„¸í•œ ë‚´ìš©ì€ [ë°ì´í„° ì „ì²˜ë¦¬ ë°ì´í„° ì»¨íŠ¸ë™íŠ¸](docs/preprocessing-data-contracts.md)ì™€ [íŒŒì´í”„ë¼ì¸ ë°ì´í„° ì»¨íŠ¸ë™íŠ¸](docs/pipeline/data_contracts.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## 4. ëª¨ë¸ë§

### ëª¨ë¸ ì„¤ëª…

ë² ì´ìŠ¤ë¼ì¸ ì½”ë“œëŠ” ì¥ë©´ í…ìŠ¤íŠ¸ ê²€ì¶œì—ì„œ íš¨ê³¼ì ì¸ ê²ƒìœ¼ë¡œ ì•Œë ¤ì§„ **DBNet** ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. DBNetì€ ì‹¤ì‹œê°„ ì¥ë©´ í…ìŠ¤íŠ¸ ê²€ì¶œì„ ìœ„í•´ ë¯¸ë¶„ ê°€ëŠ¥í•œ ì´ì§„í™”ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### DBNet: ë¯¸ë¶„ ê°€ëŠ¥í•œ ì´ì§„í™”ë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì¥ë©´ í…ìŠ¤íŠ¸ ê²€ì¶œ

![DBNet](docs/assets/images/banner/flow-chart-of-the-dbnet.png)

### ë² ì´ìŠ¤ë¼ì¸ ì„±ëŠ¥

V100 GPUì—ì„œ 10 ì—í¬í¬ í›ˆë ¨ í›„, ë² ì´ìŠ¤ë¼ì¸ ëª¨ë¸ì€ ê³µê°œ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì„±ëŠ¥ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

* **í›ˆë ¨ ì‹œê°„:** ì•½ 22ë¶„
* **H-Mean:** 0.8818
* **ì •ë°€ë„:** 0.9651
* **ì¬í˜„ìœ¨:** 0.8194

### í‰ê°€ ì§€í‘œ

ì´ ëŒ€íšŒëŠ” í…ìŠ¤íŠ¸ ê²€ì¶œ ê²°ê³¼ í‰ê°€ë¥¼ ìœ„í•´ **CLEval**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### CLEval: í…ìŠ¤íŠ¸ ê²€ì¶œ ë° ì¸ì‹ ì‘ì—…ì„ ìœ„í•œ ë¬¸ì ìˆ˜ì¤€ í‰ê°€

![CLEval](https://github.com/clovaai/CLEval/raw/master/resources/screenshots/explanation.gif)

### ëª¨ë¸ë§ ê³¼ì •

#### í›ˆë ¨
```bash
uv run python runners/train.py preset=example
```

#### í…ŒìŠ¤íŠ¸
```bash
# ì‚¬ìš© ì˜ˆì‹œ
uv run python runners/test.py preset=example checkpoint_path=\"outputs/ocr_training/checkpoints/epoch-9-step-1030.ckpt\"
```

#### ì˜ˆì¸¡
```bash
# ì‚¬ìš© ì˜ˆì‹œ
uv run python runners/predict.py preset=example checkpoint_path=\"outputs/ocr_training/checkpoints/epoch-8-step-1845.ckpt\"
```

#### ì‚¬ìš© ì˜ˆì‹œ
```bash
# 1. Run unit tests
uv run pytest tests/ -v

# 2. Train model (adjust epochs as needed)
uv run python runners/train.py preset=example trainer.max_epochs=10 dataset_base_path="/path/to/data/datasets/"

# 3. Generate predictions
uv run python runners/predict.py preset=example checkpoint_path="outputs/ocr_training/checkpoints/best.ckpt" dataset_base_path="/path/to/data/datasets/"

# 4. Convert to submission format
uv run python ocr/utils/convert_submission.py --json_path outputs/ocr_training/submissions/latest.json --output_path submission.csv


```

### ëª¨ë¸ ê°œì„  ì‚¬í•­

- _ëª¨ë¸ ì•„í‚¤í…ì²˜ ë³€ê²½ ì‚¬í•­ì„ ì„¤ëª…í•˜ì„¸ìš”_
- _í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ê³¼ì •ì„ ì„¤ëª…í•˜ì„¸ìš”_
- _ë°ì´í„° ì¦ê°• ê¸°ë²•ì„ ì„¤ëª…í•˜ì„¸ìš”_
- _ì•™ìƒë¸” ë°©ë²•ì„ ì„¤ëª…í•˜ì„¸ìš” (í•´ë‹¹í•˜ëŠ” ê²½ìš°)_

## 5. ê²°ê³¼

### ìµœì¢… ì„±ëŠ¥

- _ìµœì¢… ëª¨ë¸ì˜ ì„±ëŠ¥ ì§€í‘œë¥¼ ê¸°ë¡í•˜ì„¸ìš”_
- _ê³µê°œ/ë¹„ê³µê°œ ë¦¬ë”ë³´ë“œ ì ìˆ˜ë¥¼ ê¸°ë¡í•˜ì„¸ìš”_
- _ë² ì´ìŠ¤ë¼ì¸ ëŒ€ë¹„ ê°œì„  ì‚¬í•­ì„ ì„¤ëª…í•˜ì„¸ìš”_

### ì œì¶œ ê³¼ì •

#### ì œì¶œ íŒŒì¼ ìƒì„±

ì˜ˆì¸¡ ìŠ¤í¬ë¦½íŠ¸ëŠ” JSON íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì œì¶œí•˜ê¸° ì „ì— ì œê³µëœ ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ CSV í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
# ì‚¬ìš© ì˜ˆì‹œ
uv run python ocr/utils/convert_submission.py --json_path outputs/ocr_training/submissions/your_submission.json --output_path submission.csv
```

#### CSV í˜•ì‹

ì œì¶œ íŒŒì¼ì€ `filename`ê³¼ `polygons` ë‘ ì—´ì´ ìˆëŠ” CSVì—¬ì•¼ í•©ë‹ˆë‹¤.

* **filename**: í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª…
* **polygons**: í•´ë‹¹ ì´ë¯¸ì§€ì—ì„œ ì˜ˆì¸¡ëœ ëª¨ë“  í…ìŠ¤íŠ¸ ì˜ì—­ì˜ ì¢Œí‘œë¥¼ í¬í•¨í•˜ëŠ” ë‹¨ì¼ ë¬¸ìì—´
  * í•˜ë‚˜ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ì¢Œí‘œëŠ” ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ (ì˜ˆ: `X1 Y1 X2 Y2 X3 Y3 X4 Y4`)
  * ê°™ì€ ì´ë¯¸ì§€ì˜ ë‹¤ë¥¸ ë‹¤ê°í˜•ë“¤ì€ íŒŒì´í”„ ë¬¸ì(`|`)ë¡œ êµ¬ë¶„

#### ì¶œë ¥ íŒŒì¼ êµ¬ì¡°

```
â””â”€â”€â”€ outputs
    â””â”€â”€ {exp_name}
        â”œâ”€â”€ .hydra
        â”‚   â”œâ”€â”€ overrides.yaml
        â”‚   â”œâ”€â”€ config.yaml
        â”‚   â””â”€â”€ hydra.yaml
        â”œâ”€â”€ checkpoints
        â”‚   â””â”€â”€ epoch={epoch}-step={step}.ckpt
        â”œâ”€â”€ logs
        â”‚   â””â”€â”€ {exp_name}
        â”‚       â””â”€â”€ {exp_version}
        â”‚           â””â”€â”€ events.out.tfevents.{timestamp}.{hostname}.{pid}.v2
        â””â”€â”€ submissions
            â””â”€â”€ {timestamp}.json
```

### í‰ê°€ ê¸°ì¤€

ëŒ€íšŒ ë¦¬ë”ë³´ë“œëŠ” ê³µê°œ ë° ë¹„ê³µê°œ ìˆœìœ„ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. ëŒ€íšŒ ê¸°ê°„ ì¤‘ì—ëŠ” ê³µê°œ ì„¸íŠ¸ì— ëŒ€í•œ ì ìˆ˜ê°€ í‘œì‹œë©ë‹ˆë‹¤. ìµœì¢… ìš°ìŠ¹ìëŠ” ëŒ€íšŒ ì¢…ë£Œ í›„ ê³µê°œë˜ëŠ” ë¹„ê³µê°œ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ì—ì„œì˜ ëª¨ë¸ ì„±ëŠ¥ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ê³µê°œ ë° ë¹„ê³µê°œ ì„¸íŠ¸ ê°„ì— ë™ë“±í•˜ê²Œ(50/50) ë¶„í• ë©ë‹ˆë‹¤.

### ì‹¤í—˜ ê²°ê³¼ ë¶„ì„

- _ë‹¤ì–‘í•œ ì‹¤í—˜ ê²°ê³¼ë¥¼ ë¹„êµ ë¶„ì„í•˜ì„¸ìš”_
- _ì‹¤íŒ¨í•œ ì¼€ì´ìŠ¤ë“¤ì„ ë¶„ì„í•˜ì„¸ìš”_
- _ëª¨ë¸ì˜ í•œê³„ì ì„ ì„¤ëª…í•˜ì„¸ìš”_

## 6. ê²°ë¡  ë° í–¥í›„ ê³¼ì œ

### ì£¼ìš” ì„±ê³¼

- _í”„ë¡œì íŠ¸ì˜ ì£¼ìš” ì„±ê³¼ë¥¼ ìš”ì•½í•˜ì„¸ìš”_
- _íŒ€ì›ë³„ ê¸°ì—¬ë„ë¥¼ ì„¤ëª…í•˜ì„¸ìš”_
- _ë°°ìš´ ì ë“¤ì„ ì •ë¦¬í•˜ì„¸ìš”_

### í–¥í›„ ê°œì„  ë°©í–¥

- _ëª¨ë¸ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•œ ì•„ì´ë””ì–´ë¥¼ ì œì‹œí•˜ì„¸ìš”_
- _ë°ì´í„° í’ˆì§ˆ í–¥ìƒ ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”_
- _ì‹œìŠ¤í…œ ìµœì í™” ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”_

## ì„¤ì¹˜ ë° ì„¤ì •

### ğŸš¨ í™˜ê²½ ì„¤ì • (ì¤‘ìš”)

ì´ í”„ë¡œì íŠ¸ëŠ” **UV** íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ë¥¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €(pip, conda, poetry)ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.

```bash
# ìë™ í™˜ê²½ ì„¤ì • (ê¶Œì¥)
./scripts/setup/00_setup-environment.sh


### VS Code ì„¤ì •

í”„ë¡œì íŠ¸ë¥¼ VS Codeì—ì„œ ì—´ë©´ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì„¤ì •ì´ ì ìš©ë©ë‹ˆë‹¤:
- Python ì¸í„°í”„ë¦¬í„°: `./.venv/bin/python`
- í„°ë¯¸ë„: ìë™ìœ¼ë¡œ ê°€ìƒí™˜ê²½ í™œì„±í™”
- ëª¨ë“  Python ëª…ë ¹ì–´ëŠ” `uv run` ì ‘ë‘ì‚¬ ì‚¬ìš©

### ëª¨ë“  ëª…ë ¹ì–´ëŠ” `uv run` ì‚¬ìš©

```bash
# âŒ ì˜ëª»ëœ ì‚¬ìš©
python runners/train.py
pytest tests/

# âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
uv run python runners/train.py
uv run pytest tests/
```

### ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
uv run pytest tests/

```markdown
# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‹¤í–‰
uv run pytest tests/test_metrics.py

# ì»¤ë²„ë¦¬ì§€ì™€ í•¨ê»˜ ì‹¤í–‰ (ì„ íƒì‚¬í•­)
uv run pytest tests/ --cov=ocr
```

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” [MIT ë¼ì´ì„ ìŠ¤](LICENSE) í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

- [í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ê°€ì´ë“œ](docs/process-management-guide.md) - í›ˆë ¨ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë° ê³ ì•„ í”„ë¡œì„¸ìŠ¤ ë°©ì§€
- [DBNet](https://github.com/MhLiao/DB)
- [Hydra](https://hydra.cc/docs/intro/)
- [PyTorch Lightning](https://pytorch-lightning.readthedocs.io/en/latest/)
- [CLEval](https://github.com/clovaai/CLEval)
- [UV íŒ¨í‚¤ì§€ ê´€ë¦¬ì](https://github.com/astral-sh/uv)

## ì°¸ê³  ë…¼ë¬¸:
- CLEval: Character-Level Evaluation for Text Detection and Recognition Tasks
  https://arxiv.org/pdf/2006.06244.pdf


## ì—°ë½ì²˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ë‹¤ìŒì„ í†µí•´ ì—°ë½í•´ ì£¼ì„¸ìš”:

- **ì´ìŠˆ íŠ¸ë˜ì»¤**: [GitHub Issues](https://github.com/AIBootcamp13/upstageailab-ocr-recsys-competition-ocr-2/issues)
<!-- - **ì´ë©”ì¼**: [íŒ€ ëŒ€í‘œ ì´ë©”ì¼ ì£¼ì†Œ]
- **ë””ìŠ¤ì½”ë“œ**: [íŒ€ ë””ìŠ¤ì½”ë“œ ì±„ë„] -->

---
