# PROJECT COMPASS AI-INTERFACE V2.0
# CONSUMPTION: ~60 Tokens
# PROTOCOL: Check [Compass:Lock] before execution. Validate against schemas.
# CHANGELOG: V2.0 adds automated compass.json sync and update-status command.

rules:
  - "Environment: Only use UV. Never overwrite Torch 2.6.0+cu124."
  - "State: manifest.json is the SSoT for experiments. compass.json is SSoT for strategy (auto-synced)."
  - "Protocol: Follow [Session Lifecycle] in AGENTS.md. MUST update active_context/current_session.yml BEFORE export."
  - "Nomenclature: Use [Compass:X] tags in dialogue to refer to project state."
  - "Compass Sync: session-init auto-updates compass.json. Use update-status for manual corrections."

entry_points:
  env_check: "uv run python -m project_compass.cli check-env"
  session_init: "uv run python -m project_compass.cli session-init --objective {str} --pipeline {str}"
  session_export: "uv run python -m project_compass.cli session-export --note {str}"
  update_status: "uv run python -m project_compass.cli update-status --phase {str} --health {str} --note {str}"
  ocr_convert: "uv run ocr-etl convert --input-dir {path} --output-dir {path}"
  ocr_inspect: "uv run ocr-etl inspect --lmdb-path {path}"

schema_root: "project_compass/.config/schemas/"

