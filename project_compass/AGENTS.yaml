# PROJECT COMPASS AI-INTERFACE V2.1
# CONSUMPTION: ~60 Tokens
# PROTOCOL: Check [Compass:Lock] before execution. Validate against schemas.
# CHANGELOG: V2.1 adds global `compass` command and full Vessel integration.

rules:
  - "Environment: Only use UV. Never overwrite Torch 2.6.0+cu124."
  - "State: `project_compass/.vessel/vessel_state.json` is the Single Source of Truth."
  - "Protocol: Follow [Pulse Lifecycle] in AGENTS.md. `project_compass/pulse_staging/artifacts/` is the ONLY write location."
  - "Nomenclature: Use `pulse-init`, `pulse-sync`, `pulse-export` for work cycles."
  - "Compass Sync: State is auto-managed. Do not edit JSON files manually."

entry_points:
  compass_help: "uv run compass --help"
  check_env: "uv run compass check-env"
  pulse_init: "uv run compass pulse-init --id {domain-action-target} --obj {objective} --milestone {id}"
  pulse_status: "uv run compass pulse-status"
  pulse_sync: "uv run compass pulse-sync --path {relative_path} --type {artifact_type}"
  pulse_export: "uv run compass pulse-export"
  pulse_checkpoint: "uv run compass pulse-checkpoint --burden {low|medium|high}"

schema_root: "project_compass/src/state_schema.py"

