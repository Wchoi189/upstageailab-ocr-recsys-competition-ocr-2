# @package dataloaders

# Optimized dataloader settings for better performance and process safety
train_dataloader:
  batch_size: ${batch_size}
  shuffle: true
  num_workers: 4  # Re-enabled after H2 mask fix (decoder.py boolâ†’float)
  pin_memory: true
  persistent_workers: true
  prefetch_factor: 2
val_dataloader:
  batch_size: ${batch_size}
  shuffle: false
  num_workers: 4 # Re-enabled after H2 mask fix
  pin_memory: true
  persistent_workers: true
  prefetch_factor: 2
test_dataloader:
  batch_size: ${batch_size}
  shuffle: false
  num_workers: 2  # Balanced for evaluation throughput
  pin_memory: true
  persistent_workers: true
  prefetch_factor: 1
predict_dataloader:
  batch_size: ${batch_size}
  shuffle: false
  num_workers: 2  # Sufficient for inference pipeline
  pin_memory: true
  persistent_workers: true
  prefetch_factor: 1
