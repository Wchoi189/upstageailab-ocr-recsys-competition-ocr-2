============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-9.0.1, pluggy-1.6.0
rootdir: /workspaces/upstageailab-ocr-recsys-competition-ocr-2
configfile: pytest.ini
plugins: anyio-4.11.0, hydra-core-1.3.2
collected 778 items / 22 errors

<Dir upstageailab-ocr-recsys-competition-ocr-2>
  <Package tests>
    <Package integration>
      <Module test_collate_integration.py>
        <Class TestCollateIntegration>
          <Function test_collate_to_model_forward_pass>
          <Function test_collate_to_loss_computation>
          <Function test_collate_integration_with_empty_polygons>
          <Function test_collate_integration_different_batch_sizes>
          <Function test_collate_integration_inference_mode>
      <Module test_ocr_lightning_predict_integration.py>
        <Function test_ocr_lightning_module_predict_step_happy_path>
        <Function test_ocr_lightning_module_on_predict_epoch_end_creates_submission>
        <Function test_ocr_lightning_module_predict_loop_integration>
        <Function test_ocr_lightning_module_predict_without_confidence>
        <Function test_ocr_lightning_module_predict_with_evaluator_integration>
      <Module test_ocr_pipeline_integration.py>
        <Class TestValidatedOCRDatasetIntegration>
          <Function test_complete_pipeline_integration>
          <Function test_cache_manager_integration>
          <Function test_data_validation_pipeline>
          <Function test_performance_with_caching>
          <Function test_memory_usage_patterns>
        <Class TestEndToEndPipeline>
          <Function test_end_to_end_processing>
        <Class TestPipelineRobustness>
          <Function test_pipeline_with_edge_case_images>
      <Module test_performance_profiler.py>
        <Function test_profiler_callback_enabled>
        <Function test_profiler_callback_disabled>
        <Function test_profiler_metrics_logged_to_model>
        <Function test_profiler_batch_timing>
        <Function test_profiler_verbose_mode>
      <Module test_phase2_simple_validation.py>
        <Class TestPhase2ValidationCriteria>
          <Function test_phase2_criterion_1_noise_elimination_working>
          <Function test_phase2_criterion_2_document_flattening_working>
          <Function test_phase2_criterion_3_brightness_adjustment_working>
          <Function test_phase2_criterion_4_quality_metrics_established>
      <Module test_phase2_validation.py>
        <Class TestPhase2NoiseElimination>
          <Function test_salt_pepper_noise_elimination>
          <Function test_gaussian_noise_elimination>
          <Function test_shadow_noise_elimination>
          <Function test_overall_noise_elimination_effectiveness>
        <Class TestPhase2DocumentFlattening>
          <Function test_horizontal_crumple_flattening>
          <Function test_vertical_crumple_flattening>
          <Function test_cylindrical_distortion_flattening>
          <Function test_flattening_performance>
          <Function test_overall_flattening_validation>
        <Class TestPhase2BrightnessAdjustment>
          <Function test_dark_image_brightening>
          <Function test_bright_image_darkening>
          <Function test_low_contrast_enhancement>
          <Function test_uneven_lighting_correction>
          <Function test_brightness_adjustment_performance>
          <Function test_overall_brightness_validation>
        <Class TestPhase2QualityMetrics>
          <Function test_quality_metrics_established>
          <Function test_quality_metrics_measurable>
      <Module test_phase3_pipeline_integration.py>
        <Class TestEnhancedPipelineIntegration>
          <Function test_pipeline_initialization_default>
          <Function test_pipeline_initialization_full_features>
          <Function test_office_lens_factory>
          <Function test_fast_preprocessor_factory>
          <Function test_basic_pipeline_processing>
          <Function test_full_pipeline_processing>
          <Function test_noise_elimination_stage>
          <Function test_brightness_adjustment_stage>
          <Function test_configurable_enhancement_chain>
          <Function test_quality_based_decisions>
          <Function test_performance_logging>
          <Function test_metadata_enrichment>
          <Function test_error_handling_resilience>
          <Function test_different_method_combinations>
        <Class TestPhase3ValidationCriteria>
          <Function test_criterion1_modular_architecture>
          <Function test_criterion2_configurable_enhancement_chains>
          <Function test_criterion3_performance_benchmarks>
          <Function test_criterion4_quality_based_decisions>
      <Module test_polygon_remapping_integration.py>
        <Class TestPolygonRemappingIntegration>
          <Function test_orientation_6_polygon_remapping_scenario>
          <Function test_orientation_6_polygon_that_gets_remapped>
          <Function test_orientation_1_negative_coordinate_scenario>
          <Function test_orientation_6_double_remapping_prevention>
          <Function test_remapping_produces_out_of_bounds>
          <Function test_why_errors_persist_analysis>
    <Dir ocr>
      <Dir callbacks>
        <Module test_wandb_image_logging.py>
          <Function test_normalise_polygons_converts_sequences_to_arrays>
          <Function test_postprocess_polygons_filters_degenerate_regions>
      <Dir datasets>
        <Module test_cache_manager.py>
          <Class TestCacheManagerInitialization>
            <Function test_initialization_with_config>
            <Function test_initial_empty_caches>
          <Class TestImageCacheOperations>
            <Function test_get_cached_image_not_found>
            <Function test_set_and_get_cached_image>
            <Function test_image_cache_statistics>
          <Class TestTensorCacheOperations>
            <Function test_get_cached_tensor_not_found>
            <Function test_set_and_get_cached_tensor>
            <Function test_tensor_cache_statistics>
          <Class TestMapsCacheOperations>
            <Function test_get_cached_maps_not_found>
            <Function test_set_and_get_cached_maps>
            <Function test_maps_cache_statistics>
          <Class TestCacheStatistics>
            <Function test_log_statistics>
            <Function test_log_statistics_with_empty_cache>
            <Function test_log_statistics_with_zero_accesses>
            <Function test_get_hit_count>
            <Function test_get_miss_count>
          <Class TestCacheIsolation>
            <Function test_cache_isolation>
          <Class TestCacheManagerEdgeCases>
            <Function test_cache_with_none_values>
            <Function test_cache_with_special_filenames>
            <Function test_cache_with_large_indices>
        <Module test_db_collate_polygon_shapes.py>
          <Class TestDBCollatePolygonShapes>
            <Function test_polygon_normalization_2d_to_2d>
            <Function test_polygon_normalization_3d_to_2d>
            <Function test_mixed_batch_polygon_shapes>
            <Function test_empty_polygons_handling>
            <Function test_single_point_polygons>
            <Function test_polygon_shape_preservation_in_prob_map_generation>
            <Function test_polygon_normalization_with_precomputed_maps>
        <Module test_exif_rotation.py>
          <Function test_dataset_remaps_polygons_with_orientation>
          <Function test_dataset_rotates_image_to_canonical_orientation>
          <Function test_dataset_albumentations_preserves_polygon_alignment>
        <Module test_image_type_handling.py>
          <Class TestImageTypeHandling>
            <Function test_pil_image_size_extraction>
            <Function test_numpy_array_size_extraction>
            <Function test_safe_size_extraction_from_pil>
            <Function test_safe_size_extraction_from_numpy>
            <Function test_image_type_confusion_detection>
            <Function test_canonical_size_extraction_method>
            <Function test_image_conversion_metadata_preservation>
            <Function test_different_image_loaders_consistency>
            <Function test_edge_case_image_sizes>
        <Module test_map_loading_caching.py>
          <Class TestMapLoadingCaching>
            <Function test_missing_maps_directory_graceful_handling>
            <Function test_corrupted_npz_file_handling>
            <Function test_partial_corruption_resilient_preloading>
            <Function test_missing_map_fallback_during_loading>
            <Function test_corrupted_map_fallback_during_loading>
            <Function test_valid_map_loading_from_disk>
            <Function test_preloaded_map_priority_over_disk>
            <Function test_numpy_load_exception_handling>
            <Function test_map_shape_validation_rejects_invalid_maps>
            <Function test_map_shape_validation_rejects_mismatched_dimensions>
            <Function test_map_shape_validation_accepts_valid_maps>
            <Function test_cached_vs_generated_map_consistency>
        <Module test_ocr_dataset_and_collate.py>
          <Function test_ocr_dataset_initialization>
          <Function test_ocr_dataset_getitem_map_loading>
          <Function test_ocr_dataset_getitem_fallback>
          <Function test_dbcollatefn_init>
          <Function test_dbcollatefn_inference_mode>
          <Function test_dbcollatefn_with_preloaded_maps>
          <Function test_dbcollatefn_with_tensor_maps>
          <Function test_dbcollatefn_on_the_fly_maps>
          <Function test_dbcollatefn_make_prob_thresh_map>
          <Function test_dbcollatefn_with_degenerate_polygons>
          <Function test_dbcollatefn_distance_method>
        <Module test_ocr_dataset_cache_integration.py>
          <Class TestOCRDatasetCacheIntegration>
            <Function test_end_to_end_data_flow>
            <Function test_cache_effectiveness>
            <Function test_performance_benchmark_with_caching>
            <Function test_memory_usage_patterns>
            <Function test_data_validation_pipeline>
            <Function test_cache_manager_statistics_logging>
            <Function test_cache_disabled_functionality>
            <Function test_data_item_validation>
          <Class TestPerformanceBenchmarks>
            <Function test_performance_benchmark_large_dataset>
            <Function test_memory_usage_benchmark>
          <Function test_cache_manager_direct_integration>
        <Module test_polygon_filtering.py>
          <Class TestPolygonFiltering>
            <Function test_filter_valid_polygons>
            <Function test_filter_none_polygons>
            <Function test_filter_empty_polygons>
            <Function test_filter_too_few_points>
            <Function test_filter_too_small_polygons>
            <Function test_filter_zero_span_polygons>
            <Function test_filter_mixed_valid_invalid>
            <Function test_filter_different_shapes>
            <Function test_filter_min_side_parameter>
            <Function test_filter_logging>
            <Function test_filter_no_logging_when_disabled>
        <Module test_transform_pipeline_contracts.py>
          <Class TestTransformPipelineContracts>
            <Function test_keypoint_preservation_identity_transform>
            <Function test_inverse_transform_matrix_accuracy>
            <Function test_input_output_shape_consistency>
            <Function test_geometric_transform_mathematical_correctness>
            <Function test_empty_polygons_handling>
            <Function test_none_polygons_handling>
            <Function test_polygon_with_minimum_points>
            <Function test_polygon_clamping_to_image_bounds>
            <Function test_transform_contract_validation_error_messages>
            <Function test_shape_contract_validation_catches_violations>
            <Function test_transform_pipeline_end_to_end_consistency>
            <Function test_transform_pipeline_end_to_end_with_realistic_data>
            <Function test_end_to_end_with_real_dataset_sample>
            <Function test_transform_pipeline_with_edge_cases>
            <Function test_performance_regression_basic_transform>
            <Function test_performance_regression_memory_usage>
            <Function test_performance_regression_batch_processing>
            <Function test_performance_regression_large_polygons>
        <Module test_transforms.py>
          <Class TestPolygonShapeHandling>
            <Function test_polygon_data_accepts_valid_shapes>
            <Function test_polygon_data_rejects_invalid_types>
            <Function test_polygon_data_rejects_invalid_shapes>
            <Function test_transform_input_allows_missing_polygons>
            <Function test_polygon_point_count_extraction_2d>
            <Function test_polygon_point_count_extraction_3d>
            <Function test_polygon_transform_preserves_geometry>
            <Function test_empty_polygons_list>
            <Function test_mixed_valid_invalid_polygons>
            <Function test_metadata_preserved_through_pipeline>
          <Class TestPolygonShapeBugRegression>
            <Function test_bug_2025_004_original_issue>
            <Function test_polygon_reconstruction_accuracy>
        <Module test_validated_ocr_dataset.py>
          <Class TestValidatedOCRDatasetInitialization>
            <Function test_initialization_with_config>
            <Function test_initial_empty_annotations>
            <Function test_annotations_loaded_from_config>
          <Class TestValidatedOCRDatasetLength>
            <Function test_dataset_length>
          <Class TestValidatedOCRDatasetGetItem>
            <Function test_getitem_returns_valid_sample>
            <Function test_getitem_with_tensor_caching>
          <Class TestValidatedOCRDatasetAnnotations>
            <Function test_load_annotations_no_annotation_file>
            <Function test_load_annotations_with_annotation_file>
          <Class TestValidatedOCRDatasetCaching>
            <Function test_tensor_caching_mechanism>
          <Class TestValidatedOCRDatasetErrorHandling>
            <Function test_missing_image_path>
            <Function test_invalid_annotation_file>
      <Dir metrics>
        <Module test_cleval_metric.py>
          <Function test_calculate_rph_handles_zero_totals>
          <Function test_calculate_rph_produces_expected_scores>
      <Dir models>
        <Module test_model_postprocessing_integration.py>
          <Class TestModelPostProcessingIntegration>
            <Function test_end_to_end_pipeline_single_image>
            <Function test_end_to_end_pipeline_batch_processing>
            <Function test_pipeline_consistency_across_runs>
            <Function test_pipeline_with_different_image_sizes>
            <Function test_pipeline_error_propagation>
            <Function test_pipeline_with_empty_predictions>
            <Function test_pipeline_memory_efficiency>
        <Module test_postprocessing_shapes.py>
          <Class TestPostProcessingShapes>
            <Function test_single_batch_processing>
            <Function test_different_batch_sizes>
            <Function test_different_image_sizes>
            <Function test_prediction_as_tensor_directly>
            <Function test_empty_batch_handling>
            <Function test_missing_required_keys>
            <Function test_invalid_prediction_shapes>
            <Function test_extreme_probability_values>
            <Function test_polygon_vs_box_mode>
            <Function test_different_thresholds>
            <Function test_max_candidates_limit>
            <Function test_shape_validation_invalid_image_tensor>
            <Function test_shape_validation_invalid_prediction_channels>
            <Function test_shape_validation_batch_size_mismatch>
            <Function test_shape_validation_spatial_dimension_mismatch>
            <Function test_shape_validation_invalid_inverse_matrix>
            <Function test_shape_validation_invalid_matrix_type>
    <Dir perf>
      <Module test_api_startup.py>
        <Function test_fastapi_startup>
        <Function test_lazy_loading_on_first_call>
    <Package performance>
      <Module test_regression.py>
        <Class TestValidationPerformance>
          <Function test_validation_time_within_threshold>
          <Function test_batch_time_variance>
        <Class TestMemoryUsage>
          <Function test_gpu_memory_within_limit>
          <Function test_cpu_memory_within_limit>
        <Class TestCachePerformance>
          <Function test_cache_hit_rate>
    <Dir scripts>
      <Module test_new_features.py>
        <Function test_pipeline_preview>
        <Function test_pipeline_status>
        <Function test_gallery_images>
        <Function test_gallery_root>
    <Package unit>
      <Module test_advanced_corner_detection.py>
        <Class TestAdvancedCornerDetector>
          <Function test_detect_corners_harris>
          <Function test_detect_corners_shi_tomasi>
          <Function test_detect_corners_combined>
          <Function test_subpixel_refinement>
          <Function test_empty_image_handling>
        <Class TestCornerValidation>
          <Function test_validate_document_corners_valid>
          <Function test_validate_document_corners_too_few>
          <Function test_validate_document_corners_out_of_bounds>
          <Function test_validate_document_corners_clustered>
      <Module test_advanced_noise_elimination.py>
        <Class TestNoiseEliminationConfig>
          <Function test_default_config>
          <Function test_config_validation_block_size_odd>
          <Function test_config_custom_values>
        <Class TestAdvancedNoiseEliminator>
          <Function test_eliminate_noise_grayscale>
          <Function test_eliminate_noise_color>
          <Function test_adaptive_background_subtraction_method>
          <Function test_shadow_removal_method>
          <Function test_morphological_cleaning_method>
          <Function test_combined_method_with_text_preservation>
          <Function test_text_region_detection>
          <Function test_adaptive_background_subtraction_internal>
          <Function test_shadow_detection_and_removal_internal>
          <Function test_morphological_cleaning_internal>
          <Function test_morphological_cleaning_with_preservation>
          <Function test_effectiveness_calculation>
          <Function test_effectiveness_no_change>
          <Function test_noise_reduction_effectiveness>
        <Class TestNoiseEliminationResult>
          <Function test_result_creation>
          <Function test_result_validation_effectiveness_range>
        <Class TestResultValidation>
          <Function test_validate_result_valid>
          <Function test_validate_result_below_threshold>
          <Function test_validate_result_no_cleaned_image>
          <Function test_validate_result_inconsistent_shapes>
        <Class TestIntegration>
          <Function test_full_pipeline_noisy_document>
          <Function test_full_pipeline_color_document>
          <Function test_benchmark_effectiveness_target>
      <Module test_architecture.py>
        <Class TestOCRModel>
          <Function test_model_initialization>
          <Function test_forward_pass_with_loss>
          <Function test_forward_pass_without_loss>
          <Function test_get_optimizers_without_scheduler>
          <Function test_get_optimizers_with_scheduler>
          <Function test_get_polygons_from_maps>
          <Function test_model_initialization_with_registry>
          <Function test_component_override_with_decoder_name>
          <Function test_dbnet_architecture_passes_postprocess_config>
      <Module test_checkpoint_utils.py>
        <Class TestCheckpointHandler>
          <Function test_on_save_checkpoint_without_metrics>
          <Function test_on_save_checkpoint_with_metrics>
          <Function test_on_save_checkpoint_empty_metrics>
          <Function test_on_save_checkpoint_preserves_existing_checkpoint_data>
          <Function test_on_save_checkpoint_overwrites_existing_cleval_metrics>
          <Function test_on_load_checkpoint_without_cleval_metrics_in_checkpoint>
          <Function test_on_load_checkpoint_with_cleval_metrics_in_checkpoint>
          <Function test_on_load_checkpoint_empty_cleval_metrics>
          <Function test_on_load_checkpoint_overwrites_existing_metrics>
          <Function test_on_load_checkpoint_preserves_other_checkpoint_data>
          <Function test_on_save_checkpoint_then_on_load_checkpoint_roundtrip>
          <Function test_on_save_checkpoint_with_complex_metrics>
          <Function test_on_load_checkpoint_with_complex_metrics>
      <Module test_config_utils.py>
        <Class TestExtractMetricKwargs>
          <Function test_none_input_returns_empty_dict>
          <Function test_empty_config_returns_empty_dict>
          <Function test_config_with_target_field_excludes_target>
          <Function test_config_without_target_field_preserves_all_fields>
          <Function test_non_dict_container_returns_empty_dict>
          <Function test_nested_config_flattens_to_dict>
        <Class TestExtractNormalizeStats>
          <Function test_none_config_returns_none_tuple>
          <Function test_config_without_transforms_returns_none_tuple>
          <Function test_config_with_empty_transforms_returns_none_tuple>
          <Function test_normalize_transform_with_valid_mean_std_returns_arrays>
          <Function test_normalize_transform_with_single_channel_values>
          <Function test_non_normalize_transform_ignored>
          <Function test_normalize_transform_missing_mean_or_std_ignored>
          <Function test_normalize_transform_with_mismatched_mean_std_sizes_ignored>
          <Function test_normalize_transform_with_invalid_array_conversion_ignored>
          <Function test_normalize_transform_with_4_channels_ignored>
          <Function test_all_transform_types_searched>
          <Function test_first_valid_normalize_transform_returned>
      <Module test_coordinate_manager.py>
        <Class TestCalculateTransformMetadata>
          <Function test_square_image_no_padding>
          <Function test_portrait_image_pad_width>
          <Function test_landscape_image_pad_height>
          <Function test_small_image_upscaling>
          <Function test_large_image_downscaling>
          <Function test_shape_with_channels>
          <Function test_invalid_shape_too_short>
          <Function test_invalid_dimensions_zero>
          <Function test_invalid_dimensions_negative>
        <Class TestComputeInverseMatrix>
          <Function test_square_image_identity_scale>
          <Function test_downscaled_image_inverse>
          <Function test_upscaled_image_inverse>
          <Function test_no_translation_top_left_padding>
          <Function test_invalid_shape_returns_identity>
        <Class TestComputeForwardScales>
          <Function test_square_image_unit_scales>
          <Function test_portrait_image_different_scales>
          <Function test_landscape_image_different_scales>
          <Function test_invalid_shape_returns_identity>
        <Class TestTransformPolygonToProcessedSpace>
          <Function test_transform_square_polygon_no_scaling>
          <Function test_transform_polygon_with_downscaling>
          <Function test_transform_polygon_with_upscaling>
        <Class TestTransformPolygonsStringToProcessedSpace>
          <Function test_empty_string>
          <Function test_single_polygon_no_scaling>
          <Function test_single_polygon_with_scaling>
          <Function test_multiple_polygons>
          <Function test_polygon_with_floating_point_coords>
          <Function test_invalid_polygon_too_few_coords>
          <Function test_mixed_valid_invalid_polygons>
          <Function test_invalid_original_shape>
        <Class TestCoordinateTransformationManager>
          <Function test_initialization>
          <Function test_set_original_shape>
          <Function test_metadata_caching>
          <Function test_metadata_cache_invalidation>
          <Function test_get_inverse_matrix_with_shape>
          <Function test_get_inverse_matrix_cached>
          <Function test_get_inverse_matrix_no_cache_raises>
          <Function test_get_forward_scales_with_shape>
          <Function test_get_forward_scales_cached>
          <Function test_get_forward_scales_no_cache_raises>
          <Function test_transform_polygon_forward_with_shape>
          <Function test_transform_polygon_forward_cached>
          <Function test_transform_polygon_forward_no_cache_raises>
          <Function test_transform_polygons_string_forward_with_shape>
          <Function test_transform_polygons_string_forward_cached>
          <Function test_transform_polygons_string_forward_no_cache_raises>
      <Module test_craft_components.py>
        <Function test_craft_encoder_output_shapes>
        <Function test_craft_decoder_shapes>
        <Function test_craft_head_outputs>
        <Function test_craft_loss_forward>
        <Function test_craft_postprocessor_simple_box>
      <Module test_data_loading_optimizations.py>
        <Class TestTurboJPEGIntegration>
          <Function test_turbojpeg_available>
          <Function test_load_jpeg_with_turbojpeg>
          <Function test_load_png_with_pil_fallback>
          <Function test_turbojpeg_fallback_on_failure>
          <Function test_file_not_found_error>
          <Function test_corrupted_image_error>
        <Class TestInterpolationOptimization>
          <Function test_linear_vs_cubic_performance>
          <Function test_aspect_ratio_preservation>
        <Class TestPerformanceBenchmarking>
          <Function test_benchmark_script_import>
          <Function test_timing_measurements>
        <Class TestAccuracyValidation>
          <Function test_transform_output_consistency>
          <Function test_polygon_transform_preservation>
        <Class TestMemoryUsage>
          <Function test_memory_monitoring>
          <Function test_image_cleanup>
        <Class TestEdgeCases>
          <Function test_large_image_handling>
          <Function test_different_image_formats>
          <Function test_aspect_ratio_extremes>
      <Module test_dataset.py>
        <Class TestOCRDataset>
          <Function test_dataset_with_annotations>
          <Function test_dataset_without_annotations>
          <Function test_getitem>
          <Function test_missing_image_file>
          <Function test_empty_words_in_annotation>
          <Function test_image_extensions>
          <Function test_case_insensitive_extension_matching>
      <Module test_dbnetpp_components.py>
        <Function test_dbpp_decoder_output_shape>
      <Module test_document_flattening.py>
        <Class TestFlatteningConfig>
          <Function test_default_config>
          <Function test_custom_config>
          <Function test_grid_size_validation>
          <Function test_smoothing_factor_bounds>
        <Class TestSurfaceNormals>
          <Function test_surface_normals_creation>
          <Function test_normals_shape_validation>
        <Class TestWarpingTransform>
          <Function test_warping_transform_creation>
          <Function test_points_shape_validation>
        <Class TestFlatteningQualityMetrics>
          <Function test_quality_metrics_creation>
          <Function test_metrics_bounds_validation>
        <Class TestFlatteningResult>
          <Function test_flattening_result_creation>
          <Function test_empty_image_validation>
        <Class TestDocumentFlattener>
          <Function test_flattener_initialization>
          <Function test_flatten_flat_document>
          <Function test_flatten_crumpled_document>
          <Function test_surface_normal_estimation>
          <Function test_thin_plate_spline_warping>
          <Function test_cylindrical_warping>
          <Function test_spherical_warping>
          <Function test_adaptive_warping>
          <Function test_quality_assessment>
          <Function test_different_flattening_methods>
          <Function test_grayscale_image_handling>
          <Function test_min_curvature_threshold>
          <Function test_rbf_warping_fallback>
        <Class TestConvenienceFunction>
          <Function test_flatten_crumpled_document_function>
          <Function test_convenience_function_with_config>
          <Function test_convenience_function_with_corners>
        <Class TestEdgeCases>
          <Function test_very_small_image>
          <Function test_non_square_image>
          <Function test_quality_assessment_disabled>
        <Class TestIntegration>
          <Function test_full_flattening_pipeline>
          <Function test_multiple_consecutive_flattenings>
      <Module test_evaluator.py>
        <Class TestCLEvalEvaluator>
          <Function test_init_with_default_values>
          <Function test_init_with_custom_parameters>
          <Function test_update_with_validation_enabled>
          <Function test_update_with_validation_disabled>
          <Function test_reset_clears_predictions>
          <Function test_compute_with_predictions_and_ground_truth>
          <Function test_compute_with_no_predictions>
          <Function test_compute_with_subset_dataset>
          <Function test_validation_toggle_with_enable_validation_true>
          <Function test_validation_toggle_with_enable_validation_false>
          <Function test_compute_with_empty_detection_boxes>
          <Function test_rich_iterator_fallback_when_rich_unavailable>
      <Module test_geometric_document_modeling.py>
        <Class TestGeometricDocumentModeler>
          <Function test_fit_quadrilateral_perfect_rectangle>
          <Function test_fit_quadrilateral_skewed>
          <Function test_fit_rectangle_model>
          <Function test_insufficient_points>
          <Function test_calculate_polygon_area>
          <Function test_calculate_aspect_ratio>
          <Function test_is_rectangle_perfect>
          <Function test_is_rectangle_skewed>
        <Class TestGeometryValidation>
          <Function test_validate_geometry_valid>
          <Function test_validate_geometry_too_small>
          <Function test_validate_geometry_out_of_bounds>
      <Module test_geometry_utils_coordinate_transformation.py>
        <Class TestCoordinateTransformationCorrectness>
          <Function test_top_left_padding_no_translation>
          <Function test_center_padding_has_translation>
          <Function test_coordinate_roundtrip_top_left>
          <Function test_coordinate_roundtrip_center>
          <Function test_no_negative_coordinates_top_left>
          <Function test_no_negative_coordinates_center>
          <Function test_padding_position_mismatch_detection>
      <Module test_head.py>
        <Function test_db_head_outputs_prob_maps_alias>
      <Module test_high_confidence_decision_making.py>
        <Class TestDetectionStrategies>
          <Function test_fallback_strategy_always_succeeds>
          <Function test_contour_strategy_on_rectangle>
          <Function test_doctr_strategy_placeholder>
        <Class TestHighConfidenceDecisionMaker>
          <Function test_decision_maker_initialization>
          <Function test_make_decision_with_fallback_only>
          <Function test_make_decision_with_high_confidence_result>
          <Function test_confidence_level_determination>
          <Function test_hypothesis_selection>
          <Function test_ground_truth_validation_placeholder>
        <Class TestGroundTruthFramework>
          <Function test_ground_truth_framework_creation>
      <Module test_image_loader.py>
        <Class TestImageLoaderFromPath>
          <Function test_load_rgb_image>
          <Function test_load_rgba_image>
          <Function test_load_grayscale_image>
          <Function test_load_jpeg_image>
          <Function test_file_not_found>
          <Function test_turbojpeg_disabled>
        <Class TestImageLoaderExifOrientation>
          <Function test_orientation_1_no_rotation>
          <Function test_orientation_6_rotate_90_cw>
          <Function test_orientation_3_rotate_180>
          <Function test_orientation_8_rotate_90_ccw>
        <Class TestImageLoaderFromPil>
          <Function test_load_rgb_pil_image>
          <Function test_load_rgba_pil_image>
          <Function test_load_grayscale_pil_image>
          <Function test_pil_with_exif_orientation>
        <Class TestImageLoaderFromArray>
          <Function test_load_bgr_array>
          <Function test_load_rgb_array>
          <Function test_load_gray_array>
          <Function test_invalid_color_space>
          <Function test_invalid_array_dimensions>
          <Function test_load_3d_gray_array>
        <Class TestImageLoaderEdgeCases>
          <Function test_very_small_image>
          <Function test_large_aspect_ratio_image>
          <Function test_corrupted_image_file>
          <Function test_empty_file>
        <Class TestLoadedImageDataclass>
          <Function test_loaded_image_attributes>
          <Function test_loaded_image_is_dataclass>
      <Module test_image_processor.py>
        <Function test_tensor_to_pil_image_rgb_tensor>
        <Function test_tensor_to_pil_image_applies_statistics>
        <Function test_tensor_to_pil_image_invalid_shape_raises>
        <Function test_prepare_wandb_image_resizes_and_preserves_mode>
        <Function test_prepare_wandb_image_no_resize_when_smaller>
      <Module test_intelligent_brightness.py>
        <Class TestBrightnessConfig>
          <Function test_default_config>
          <Function test_custom_config>
          <Function test_validation_clahe_clip_limit>
          <Function test_validation_gamma_value>
          <Function test_validation_tile_size>
          <Function test_validation_brightness_thresholds>
        <Class TestBrightnessResult>
          <Function test_valid_result>
          <Function test_invalid_image_type>
          <Function test_invalid_image_empty>
          <Function test_invalid_image_dtype>
        <Class TestIntelligentBrightnessAdjuster>
          <Function test_adjuster_initialization>
          <Function test_adjust_brightness_basic>
          <Function test_clahe_method>
          <Function test_gamma_correction_dark>
          <Function test_gamma_correction_manual>
          <Function test_adaptive_histogram>
          <Function test_content_aware>
          <Function test_auto_method_selection_dark>
          <Function test_auto_method_selection_bright>
          <Function test_auto_method_selection_low_contrast>
          <Function test_color_image_handling>
          <Function test_quality_metrics>
          <Function test_metadata>
          <Function test_gamma_estimation>
          <Function test_local_variance_calculation>
          <Function test_empty_image_error>
          <Function test_processing_time>
        <Class TestFactoryFunction>
          <Function test_create_brightness_adjuster_default>
          <Function test_create_brightness_adjuster_custom>
        <Class TestIntegration>
          <Function test_full_pipeline_dark_document>
          <Function test_full_pipeline_uneven_lighting>
          <Function test_full_pipeline_low_contrast>
      <Module test_lightning_module.py>
        <Function test_on_test_epoch_end_handles_missing_predictions>
        <Function test_on_validation_epoch_end_produces_scores_with_orientation>
      <Module test_metrics.py>
        <Class TestCLEvalMetric>
          <Function test_metric_initialization>
          <Function test_options_class>
          <Function test_compute_metric>
          <Function test_update_with_empty_predictions>
          <Function test_update_accumulates_data>
          <Function test_reset_clears_state>
          <Function test_persistent_mode>
          <Function test_scale_wise_evaluation>
          <Function test_evaluation_function_called_with_correct_options>
          <Function test_metric_with_different_case_sensitivity>
          <Function test_metric_with_custom_penalties>
      <Module test_model_manager.py>
        <Class TestModelManagerInit>
          <Function test_init_with_default_device>
          <Function test_init_with_explicit_device>
          <Function test_init_with_cuda_device>
        <Class TestModelManagerState>
          <Function test_is_loaded_initially_false>
          <Function test_get_current_checkpoint_initially_none>
          <Function test_get_config_bundle_initially_none>
        <Class TestModelManagerCleanup>
          <Function test_cleanup_when_no_model>
          <Function test_context_manager_cleanup>
        <Class TestModelManagerLoadModel>
          <Function test_load_model_without_ocr_modules>
          <Function test_load_model_with_nonexistent_checkpoint>
        <Class TestModelManagerExtractModelConfig>
          <Function test_extract_model_config_with_model_section>
          <Function test_extract_model_config_without_model_section>
          <Function test_extract_model_config_invalid>
      <Module test_ocr_postprocess.py>
        <Function test_threshold_function>
        <Function test_extract_connected_components>
        <Function test_postprocess_text_map>
        <Function test_postprocess_with_different_thresholds[0.1]>
        <Function test_postprocess_with_different_thresholds[0.3]>
        <Function test_postprocess_with_different_thresholds[0.5]>
        <Function test_postprocess_with_different_thresholds[0.7]>
        <Function test_postprocess_with_different_thresholds[0.9]>
        <Function test_postprocess_edge_cases>
      <Module test_orchestrator.py>
        <Class TestInferenceOrchestratorInit>
          <Function test_init_with_default_device>
          <Function test_init_with_explicit_device>
          <Function test_context_manager>
        <Class TestInferenceOrchestratorLoadModel>
          <Function test_load_model_fails_without_ocr_modules>
          <Function test_load_model_with_nonexistent_checkpoint>
        <Class TestInferenceOrchestratorPredict>
          <Function test_predict_without_loaded_model>
          <Function test_predict_without_pipelines>
        <Class TestInferenceOrchestratorUpdateParams>
          <Function test_update_params_without_pipeline>
          <Function test_update_params_without_settings>
        <Class TestInferenceOrchestratorCleanup>
          <Function test_cleanup>
      <Module test_polygons_in_canonical_frame_tolerance.py>
        <Class TestPolygonsInCanonicalFrameTolerance>
          <Function test_tolerance_default_value>
          <Function test_orientation_6_canonical_detection_with_tolerance>
          <Function test_orientation_6_boundary_cases>
          <Function test_orientation_1_negative_coordinates>
          <Function test_orientation_1_small_negative_within_tolerance>
          <Function test_orientation_6_real_cases_from_investigation>
          <Function test_orientation_6_not_in_canonical_frame>
          <Function test_multiple_polygons_aggregate_check>
          <Function test_tolerance_comparison_1_5_vs_3_0>
          <Function test_edge_case_exactly_at_tolerance_boundary>
      <Module test_postprocessing_pipeline.py>
        <Class TestPostprocessingPipelineInit>
          <Function test_init_with_settings>
          <Function test_init_without_settings>
          <Function test_set_settings>
        <Class TestPostprocessingPipelineProcess>
          <Function test_process_with_head_success>
          <Function test_process_fallback_when_no_head>
          <Function test_process_fails_without_settings_for_fallback>
        <Class TestPostprocessingResult>
          <Function test_postprocessing_result_attributes>
          <Function test_postprocessing_result_with_multiple_detections>
          <Function test_postprocessing_result_empty_detections>
      <Module test_preprocessing.py>
        <Class TestDocumentPreprocessor>
          <Function test_initialization>
          <Function test_preprocessing_pipeline>
          <Function test_document_detection>
          <Function test_doctr_perspective_toggle>
          <Function test_orientation_correction_metadata>
          <Function test_padding_cleanup_step>
          <Function test_image_enhancement>
          <Function test_resize_to_target>
          <Function test_order_corners>
        <Class TestLensStylePreprocessorAlbumentations>
          <Function test_albumentations_wrapper>
          <Function test_transform_init_args>
        <Class TestPreprocessingIntegration>
          <Function test_preprocessing_with_real_image>
          <Function test_error_handling>
      <Module test_preprocessing_contracts.py>
        <Class TestContractCompliance>
          <Function test_image_input_contract_valid>
          <Function test_image_input_contract_invalid>
          <Function test_preprocessing_result_contract_valid>
          <Function test_detection_result_contract_valid>
          <Function test_contract_enforcer_validation>
          <Function test_validation_decorator_fallback>
      <Module test_preprocessing_metadata.py>
        <Class TestCreatePreprocessingMetadata>
          <Function test_square_image_no_padding>
          <Function test_portrait_image_width_padding>
          <Function test_landscape_image_height_padding>
          <Function test_large_image_downscaling>
          <Function test_small_image_upscaling>
          <Function test_shape_with_channels>
          <Function test_custom_target_size>
          <Function test_invalid_shape_raises_error>
          <Function test_metadata_structure_completeness>
          <Function test_top_left_padding_consistency>
        <Class TestCalculateResizeDimensions>
          <Function test_square_image_no_resize>
          <Function test_portrait_image_resize>
          <Function test_landscape_image_resize>
          <Function test_downscaling>
          <Function test_upscaling>
          <Function test_invalid_shape_raises_error>
        <Class TestCalculatePadding>
          <Function test_square_image_no_padding>
          <Function test_portrait_image_width_padding>
          <Function test_landscape_image_height_padding>
          <Function test_large_image_padding>
          <Function test_small_image_no_padding>
          <Function test_invalid_shape_raises_error>
        <Class TestGetContentArea>
          <Function test_square_image_full_content>
          <Function test_portrait_image_content>
          <Function test_landscape_image_content>
          <Function test_downscaled_image_content>
          <Function test_upscaled_image_content>
          <Function test_invalid_shape_raises_error>
        <Class TestIntegrationConsistency>
          <Function test_metadata_matches_individual_calculations>
          <Function test_content_plus_padding_equals_target>
      <Module test_preprocessing_pipeline.py>
        <Class TestPreprocessingPipelineInit>
          <Function test_init_with_defaults>
          <Function test_init_with_custom_target_size>
          <Function test_set_transform>
          <Function test_set_target_size>
        <Class TestPreprocessingPipelineProcess>
          <Function test_process_basic>
          <Function test_process_with_metadata>
          <Function test_process_without_transform_fails>
          <Function test_process_with_custom_target_size>
        <Class TestPreprocessingPipelineOriginalDisplay>
          <Function test_process_for_original_display>
          <Function test_process_for_original_display_without_transform>
        <Class TestPreprocessingResult>
          <Function test_preprocessing_result_attributes>
          <Function test_preprocessing_result_with_perspective>
      <Module test_preview_generator.py>
        <Class TestPreviewGeneratorInit>
          <Function test_default_initialization>
          <Function test_custom_jpeg_quality>
          <Function test_minimum_jpeg_quality>
          <Function test_maximum_jpeg_quality>
          <Function test_invalid_jpeg_quality_too_low>
          <Function test_invalid_jpeg_quality_too_high>
        <Class TestEncodePreviewImage>
          <Function test_encode_jpg_default>
          <Function test_encode_jpeg_format>
          <Function test_encode_png_format>
          <Function test_encode_colored_image>
          <Function test_encode_none_image>
          <Function test_encode_empty_image>
          <Function test_encode_unsupported_format>
          <Function test_jpeg_quality_affects_size>
        <Class TestAttachPreviewToPayload>
          <Function test_attach_preview_simple>
          <Function test_attach_preview_with_metadata>
          <Function test_attach_preview_without_metadata>
          <Function test_attach_preview_transforms_polygons>
          <Function test_attach_preview_skips_polygon_transform_without_shape>
          <Function test_attach_preview_non_dict_payload>
          <Function test_attach_preview_empty_polygons>
          <Function test_attach_preview_preserves_original_payload>
        <Class TestCreatePreviewWithMetadata>
          <Function test_create_preview_basic>
          <Function test_create_preview_with_custom_quality>
          <Function test_create_preview_transforms_polygons>
          <Function test_create_preview_with_all_parameters>
        <Class TestTransformPolygonsToPreviewSpace>
          <Function test_transform_polygons_portrait_image>
          <Function test_transform_polygons_landscape_image>
          <Function test_transform_polygons_empty_payload>
          <Function test_transform_polygons_no_polygons_key>
          <Function test_transform_polygons_non_dict_payload>
      <Module test_progress_logger.py>
        <Function test_get_rich_console_handles_missing_dependency>
        <Function test_get_rich_console_returns_instance>
      <Module test_sample_ocr.py>
        <Function test_tensor_operations>
        <Function test_dummy_ocr_component>
        <Function test_with_fixtures>
        <Function test_different_input_sizes[input_size0-expected_shape0]>
        <Function test_different_input_sizes[input_size1-expected_shape1]>
        <Function test_different_input_sizes[input_size2-expected_shape2]>
        <Function test_known_buggy_feature>
        <Function test_confidence_filtering>
      <Module test_simple.py>
        <Function test_basic_arithmetic>
        <Function test_string_operations>
        <Function test_list_operations>
      <Module test_validation_models.py>
        <Class TestValidatedPolygonData>
          <Function test_valid_polygon_within_bounds>
          <Function test_valid_polygon_at_boundaries>
          <Function test_invalid_x_coordinate_exceeds_width>
          <Function test_invalid_y_coordinate_exceeds_height>
          <Function test_invalid_negative_x_coordinate>
          <Function test_invalid_negative_y_coordinate>
          <Function test_invalid_multiple_out_of_bounds_coordinates>
          <Function test_valid_polygon_with_confidence_and_label>
          <Function test_coordinate_at_exact_width_boundary_is_invalid>
          <Function test_coordinate_at_exact_height_boundary_is_invalid>
          <Function test_error_message_indicates_which_coordinates_are_invalid>
        <Class TestValidatedTensorData>
          <Function test_valid_tensor_basic>
          <Function test_valid_tensor_with_shape_validation>
          <Function test_invalid_tensor_shape_mismatch>
          <Function test_valid_tensor_with_device_validation>
          <Function test_invalid_tensor_device_mismatch>
          <Function test_valid_tensor_with_dtype_validation>
          <Function test_invalid_tensor_dtype_mismatch>
          <Function test_valid_tensor_with_value_range>
          <Function test_invalid_tensor_values_below_range>
          <Function test_invalid_tensor_values_above_range>
          <Function test_invalid_tensor_contains_nan>
          <Function test_valid_tensor_with_nan_allowed>
          <Function test_invalid_tensor_contains_inf>
          <Function test_valid_tensor_with_inf_allowed>
          <Function test_invalid_value_range_min_greater_than_max>
          <Function test_valid_tensor_with_all_validations>
          <Function test_invalid_not_a_tensor>
        <Class TestPolygonArray>
          <Function test_valid_polygon_array>
          <Function test_valid_polygon_with_float64>
          <Function test_polygon_with_at_least_three_points>
          <Function test_invalid_not_numpy_array>
          <Function test_invalid_wrong_shape>
          <Function test_invalid_not_2d_array>
          <Function test_invalid_less_than_three_points>
          <Function test_invalid_single_point>
          <Function test_invalid_empty_array>
        <Class TestDatasetSample>
          <Function test_valid_dataset_sample>
          <Function test_default_polygons_empty_list>
          <Function test_invalid_image_wrong_shape>
          <Function test_invalid_prob_maps_wrong_ndim>
          <Function test_invalid_thresh_maps_wrong_ndim>
          <Function test_invalid_mismatched_prob_and_thresh_maps_shapes>
          <Function test_invalid_inverse_matrix_wrong_shape>
          <Function test_invalid_shape_wrong_length>
          <Function test_invalid_polygon_in_polygons>
        <Class TestTransformOutput>
          <Function test_valid_transform_output>
          <Function test_invalid_image_wrong_shape>
          <Function test_invalid_prob_maps_wrong_shape>
          <Function test_invalid_thresh_maps_wrong_shape>
          <Function test_invalid_inverse_matrix_wrong_shape>
          <Function test_invalid_polygon_in_polygons>
        <Class TestBatchSample>
          <Function test_valid_batch_sample>
          <Function test_invalid_inverse_matrix_wrong_shape>
          <Function test_invalid_polygon_in_polygons>
        <Class TestCollateOutput>
          <Function test_valid_collate_output>
          <Function test_valid_collate_output_with_optional_fields>
          <Function test_invalid_image_filename_none>
          <Function test_invalid_image_filename_empty_list>
          <Function test_invalid_images_wrong_shape>
          <Function test_invalid_images_batch_mismatch>
          <Function test_invalid_prob_maps_wrong_shape>
          <Function test_invalid_prob_maps_batch_mismatch>
          <Function test_invalid_thresh_maps_wrong_shape>
          <Function test_invalid_thresh_maps_batch_mismatch>
          <Function test_invalid_polygons_batch_mismatch>
          <Function test_invalid_polygons_not_list>
          <Function test_invalid_orientation_batch_mismatch>
          <Function test_invalid_orientation_value>
          <Function test_invalid_raw_size_batch_mismatch>
          <Function test_invalid_raw_size_negative_dimensions>
          <Function test_invalid_canonical_size_batch_mismatch>
        <Class TestModelOutput>
          <Function test_valid_model_output>
          <Function test_valid_model_output_with_optional_fields>
          <Function test_invalid_thresh_maps_wrong_shape>
          <Function test_invalid_binary_maps_wrong_shape>
        <Class TestLightningStepPrediction>
          <Function test_valid_lightning_step_prediction>
          <Function test_valid_lightning_step_prediction_with_defaults>
          <Function test_invalid_box_with_invalid_polygon>
          <Function test_invalid_orientation_value>
          <Function test_invalid_raw_size_negative_dimensions>
          <Function test_invalid_canonical_size_negative_dimensions>
          <Function test_invalid_image_path_empty_string>
        <Class TestValidatePredictionsFunction>
          <Function test_valid_predictions>
          <Function test_predictions_with_mismatched_lengths>
          <Function test_predictions_with_invalid_prediction>
          <Function test_predictions_with_invalid_orientation>
          <Function test_predictions_with_empty_filename_list>
          <Function test_predictions_with_none_values_in_optional_fields>
    <Package wandb>
      <Module test_run_name.py>
        <Function test_generate_run_name_full_descriptor>
        <Function test_generate_run_name_without_architecture>

==================================== ERRORS ====================================
____________ ERROR collecting tests/agent_qms/vlm/test_contracts.py ____________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/agent_qms/vlm/test_contracts.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/agent_qms/vlm/test_contracts.py:5: in <module>
    from agent_qms.vlm.core.contracts import (
E   ModuleNotFoundError: No module named 'agent_qms'
__________ ERROR collecting tests/agent_qms/vlm/test_preprocessor.py ___________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/agent_qms/vlm/test_preprocessor.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/agent_qms/vlm/test_preprocessor.py:3: in <module>
    from agent_qms.vlm.core.preprocessor import VLMImagePreprocessor
E   ModuleNotFoundError: No module named 'agent_qms'
_________________ ERROR collecting tests/integration/dashboard _________________
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
.venv/lib/python3.11/site-packages/_pytest/assertion/rewrite.py:197: in exec_module
    exec(co, module.__dict__)
tests/integration/dashboard/conftest.py:10: in <module>
    from server import app
apps/agentqms-dashboard/backend/server.py:16: in <module>
    from routes import artifacts, compliance, system, tools, tracking
apps/agentqms-dashboard/backend/routes/artifacts.py:6: in <module>
    import frontmatter
E   ModuleNotFoundError: No module named 'frontmatter'
_ ERROR collecting tests/integration/test_checkpoint_catalog_v2_integration.py _
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_checkpoint_catalog_v2_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_checkpoint_catalog_v2_integration.py:25: in <module>
    from ui.apps.inference.services.checkpoint.catalog import CheckpointCatalogBuilder, build_catalog
E   ModuleNotFoundError: No module named 'ui.apps.inference.services.checkpoint.catalog'
_________ ERROR collecting tests/integration/test_checkpoint_fixes.py __________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_checkpoint_fixes.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_checkpoint_fixes.py:20: in <module>
    from ui.apps.inference.models.checkpoint import CheckpointMetadata
E   ModuleNotFoundError: No module named 'ui.apps.inference.models.checkpoint'
____ ERROR collecting tests/integration/test_command_builder_integration.py ____
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_command_builder_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_command_builder_integration.py:5: in <module>
    from ui.utils.command import CommandBuilder, CommandExecutor, CommandValidator
E   ImportError: cannot import name 'CommandBuilder' from 'ui.utils.command' (unknown location)
______ ERROR collecting tests/integration/test_exif_orientation_smoke.py _______
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_exif_orientation_smoke.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_exif_orientation_smoke.py:9: in <module>
    from ui.utils.inference.engine import InferenceEngine
E   ModuleNotFoundError: No module named 'ui.utils.inference.engine'
______ ERROR collecting tests/integration/test_hydra_config_validation.py ______
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_hydra_config_validation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_hydra_config_validation.py:2: in <module>
    from ui.utils.command import CommandBuilder, CommandValidator
E   ImportError: cannot import name 'CommandBuilder' from 'ui.utils.command' (unknown location)
____ ERROR collecting tests/integration/test_inference_preview_contract.py _____
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_inference_preview_contract.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_inference_preview_contract.py:17: in <module>
    from apps.backend.services.playground_api.routers import inference as inference_module
E   ModuleNotFoundError: No module named 'apps.backend'
_________ ERROR collecting tests/integration/test_inference_service.py _________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/integration/test_inference_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_inference_service.py:7: in <module>
    from ui.apps.inference.models.data_contracts import Predictions
E   ModuleNotFoundError: No module named 'ui.apps.inference.models.data_contracts'
_____________ ERROR collecting tests/ocr/utils/test_orientation.py _____________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/ocr/utils/test_orientation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/ocr/utils/test_orientation.py:6: in <module>
    from ui.utils.inference.engine import InferenceEngine
E   ModuleNotFoundError: No module named 'ui.utils.inference.engine'
_____ ERROR collecting tests/regression/test_regression_validation_fix.py ______
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/regression/test_regression_validation_fix.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/regression/test_regression_validation_fix.py:8: in <module>
    from ui.utils.command import CommandBuilder, CommandExecutor, CommandValidator
E   ImportError: cannot import name 'CommandBuilder' from 'ui.utils.command' (unknown location)
______________ ERROR collecting tests/scripts/test_api_startup.py ______________
import file mismatch:
imported module 'test_api_startup' has this __file__ attribute:
  /workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/perf/test_api_startup.py
which is not the same as the test file we want to collect:
  /workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/scripts/test_api_startup.py
HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
__________ ERROR collecting tests/smoke/test_command_builder_smoke.py __________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/smoke/test_command_builder_smoke.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/smoke/test_command_builder_smoke.py:8: in <module>
    from ui.utils.command import CommandBuilder, CommandExecutor, CommandValidator
E   ImportError: cannot import name 'CommandBuilder' from 'ui.utils.command' (unknown location)
__________________ ERROR collecting tests/test_state_file.py ___________________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/test_state_file.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/test_state_file.py:18: in <module>
    from experiment_tracker.utils.state_file import (
E   ModuleNotFoundError: No module named 'experiment_tracker'
___________ ERROR collecting tests/ui/test_visualization_helpers.py ____________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/ui/test_visualization_helpers.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/ui/test_visualization_helpers.py:4: in <module>
    from ui.visualization import helpers
E   ImportError: cannot import name 'helpers' from 'ui.visualization' (unknown location)
___________ ERROR collecting tests/ui/test_visualize_annotations.py ____________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/ui/test_visualize_annotations.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/ui/test_visualize_annotations.py:8: in <module>
    from ui.visualize_annotations import _extract_polygons, _normalize_image_and_polygons
E   ModuleNotFoundError: No module named 'ui.visualize_annotations'
__________ ERROR collecting tests/unit/test_checkpoint_catalog_v2.py ___________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/unit/test_checkpoint_catalog_v2.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_checkpoint_catalog_v2.py:27: in <module>
    from ui.apps.inference.services.checkpoint.cache import CatalogCache
E   ModuleNotFoundError: No module named 'ui.apps.inference.services.checkpoint.cache'
_____________ ERROR collecting tests/unit/test_command_modules.py ______________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/unit/test_command_modules.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_command_modules.py:5: in <module>
    from ui.utils.command.builder import CommandBuilder
E   ModuleNotFoundError: No module named 'ui.utils.command.builder'
______________ ERROR collecting tests/unit/test_state_manager.py _______________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/unit/test_state_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_state_manager.py:19: in <module>
    from agent_qms.toolbelt.state import StateError, StateManager
E   ModuleNotFoundError: No module named 'agent_qms.toolbelt'
____________ ERROR collecting tests/unit/test_submission_writer.py _____________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/unit/test_submission_writer.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_submission_writer.py:11: in <module>
    from ui.apps.inference.models.data_contracts import InferenceResult, Predictions, PreprocessingInfo
E   ModuleNotFoundError: No module named 'ui.apps.inference.models.data_contracts'
________________ ERROR collecting tests/unit/test_ui_engine.py _________________
ImportError while importing test module '/workspaces/upstageailab-ocr-recsys-competition-ocr-2/tests/unit/test_ui_engine.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/vscode/.pyenv/versions/3.11.14/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_ui_engine.py:2: in <module>
    from ui.utils.override_compute import compute_overrides
E   ModuleNotFoundError: No module named 'ui.utils.override_compute'
=========================== short test summary info ============================
ERROR tests/agent_qms/vlm/test_contracts.py
ERROR tests/agent_qms/vlm/test_preprocessor.py
ERROR tests/integration/dashboard - ModuleNotFoundError: No module named 'fro...
ERROR tests/integration/test_checkpoint_catalog_v2_integration.py
ERROR tests/integration/test_checkpoint_fixes.py
ERROR tests/integration/test_command_builder_integration.py
ERROR tests/integration/test_exif_orientation_smoke.py
ERROR tests/integration/test_hydra_config_validation.py
ERROR tests/integration/test_inference_preview_contract.py
ERROR tests/integration/test_inference_service.py
ERROR tests/ocr/utils/test_orientation.py
ERROR tests/regression/test_regression_validation_fix.py
ERROR tests/scripts/test_api_startup.py
ERROR tests/smoke/test_command_builder_smoke.py
ERROR tests/test_state_file.py
ERROR tests/ui/test_visualization_helpers.py
ERROR tests/ui/test_visualize_annotations.py
ERROR tests/unit/test_checkpoint_catalog_v2.py
ERROR tests/unit/test_command_modules.py
ERROR tests/unit/test_state_manager.py
ERROR tests/unit/test_submission_writer.py
ERROR tests/unit/test_ui_engine.py
!!!!!!!!!!!!!!!!!!! Interrupted: 22 errors during collection !!!!!!!!!!!!!!!!!!!
============== 778 tests collected, 22 errors in 90.79s (0:01:30) ==============
