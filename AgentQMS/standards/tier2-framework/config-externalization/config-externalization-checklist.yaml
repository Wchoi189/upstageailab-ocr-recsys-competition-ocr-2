ads_version: '1.0'
type: quick_reference
agent: copilot
tier: 2
priority: high
artifact_templates_externalization:
  step1_add_config_methods:
    file: AgentQMS/tools/core/artifact_templates.py
    actions:
    - add_to_init:
      - _config_loader
      - _config_cache
    - add_method: _get_config
    - add_method: _load_config
    time: 15min
  step2_replace_values:
    file: AgentQMS/tools/core/artifact_templates.py
    replacements:
    - method: _convert_plugin_to_template
      line: 162
      from: hardcoded_dict
      to: config["frontmatter_defaults"]
    - method: create_frontmatter
      line: 394
      from: system_args_set
      to: config["frontmatter_denylist"]
    - method: create_frontmatter
      line: 382-386
      from: '"main"'
      to: config["default_branch"]
    - method: create_frontmatter
      line: 402
      from: '"---"'
      to: config["frontmatter_delimiter"]
    - method: create_filename
      line: 282
      from: strftime_pattern
      to: config["date_formats"]["filename_timestamp"]
    - method: create_frontmatter
      line: 376
      from: strftime_pattern
      to: config["date_formats"]["timestamp_with_tz"]
    - method: create_content
      line: 429
      from: hardcoded_defaults
      to: config["content_defaults"]
    - method: create_artifact
      line: 488
      from: 300
      to: config["duplicate_detection"]["recent_file_window_seconds"]
    time: 60-90min
  step3_test:
    tests:
    - without_config: fallback_defaults_work
    - with_config: values_load_correctly
    - functional: all_7_artifact_types_generate
    - behavioral: no_changes_to_output
    time: 30min
  validation:
  - yaml_valid: artifact_template_config.yaml
  - imports_clean: no_errors
  - tests_pass: all_existing_tests
  - backward_compatible: no_api_changes
  total_time: 2-3_hours
  risk: very_low
