---
ads_version: "1.0"
type: entrypoint
description: "Master entrypoint for AI Agents. Read this first."
context_map_location: "AgentQMS/standards/INDEX.yaml"

project_standards:
  workflow_rules: "AgentQMS/standards/tier1-sst/workflow-requirements.yaml"
  artifact_standards: "AgentQMS/standards/tier1-sst/artifact-types.yaml"
  system_architecture: "AgentQMS/standards/tier1-sst/system-architecture.yaml"
  tool_catalog: "AgentQMS/standards/tier2-framework/tool-catalog.yaml"
  naming_conventions: "AgentQMS/standards/tier1-sst/naming-conventions.yaml"

package_management:
  tool: "uv"
  policy: "STRICT: Use `uv`, never `pip` directly. All python execution must be prefixed with `uv run` unless using `aqms`."
  commands:
    add: "uv add <pkg>"
    sync: "uv sync"
    run: "uv run python <script>"

environment_tools:
  validate_environment:
    command: "uv run python scripts/validation/validate_environment.py"
    when: "After `uv sync` or environment changes"

  agent_qms:
    location: "AgentQMS/"
    cli_entrypoint: "bin/aqms"
    commands:
      help: "bin/aqms help"
      validate: "bin/aqms validate"
      create_plan: "bin/aqms create-plan NAME=slug TITLE='Title'"
      compliance: "bin/aqms compliance"
      sync_github: "uv run python AgentQMS/tools/utils/sync_github_projects.py"
      init_github: "uv run python AgentQMS/tools/utils/sync_github_projects.py --init"

  research:
    tool: "Perplexity Client"
    command: "python scripts/research/perplexity_client.py --query 'Query'"
    requirements: "PERPLEXITY_API_KEY in .env.local"

experiment_manager:
  entrypoint: "experiment_manager/etk.py"
  guides_dir: "experiment_manager/.ai-instructions/"
  # NOTE: This is an independent system from AgentQMS/standards/
  # experiment_manager/.ai-instructions/ contains experiment-specific protocols
  # AgentQMS/standards/ contains general project AI instructions
  key_commands: ["init", "reconcile", "validate"]

agent_debug_toolkit:
  description: "AST-based debugging toolkit for AI agents to analyze Hydra/OmegaConf configuration issues"
  location: "agent-debug-toolkit/"
  cli_entrypoint: "adt"
  mcp_server: "agent-debug-toolkit/run_mcp.sh"
  commands:
    analyze_config: "uv run adt analyze-config <path> [--component <name>]"
    trace_merges: "uv run adt trace-merges <file> --output markdown"
    find_hydra: "uv run adt find-hydra <path>"
    find_instantiations: "uv run adt find-instantiations <path> [--component <type>]"
    full_analysis: "uv run adt full-analysis <path>"
    context_tree: "uv run adt context-tree <path> [--depth N] [--output markdown|json]"
    intelligent_search: "uv run adt intelligent-search <query> [--root <path>] [--fuzzy] [--threshold 0.6]"
  use_cases:
    - "Debug config precedence issues (e.g., legacy defaults overriding architecture)"
    - "Trace OmegaConf.merge() call order to identify override winners"
    - "Find all Hydra entry points and instantiate() calls"
    - "Track component factory patterns (get_*_by_cfg, registry.create)"
    - "Generate annotated directory trees with semantic context (docstrings, exports)"
    - "Find symbol definitions by name or qualified path with fuzzy matching"

agent_configurations:
  gemini: "AgentQMS/standards/tier3-agents/gemini/config.yaml"
  claude: "AgentQMS/standards/tier3-agents/claude/config.yaml"
  cursor: "AgentQMS/standards/tier3-agents/cursor/config.yaml"
  copilot: "AgentQMS/standards/tier3-agents/copilot/config.yaml"
  qwen: "AgentQMS/standards/tier3-agents/qwen/config.yaml"

critical_directives:
  - "Do not hallucinate project standards. Read the `INDEX.yaml` first."
  - "Follow the Agentic Documentation Standard (ADS) v1.0."
  - "Always check `AgentQMS/standards` for the latest rules."
